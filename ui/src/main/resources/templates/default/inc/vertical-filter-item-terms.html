<div class="accordion-item">
  <h2 class="accordion-header border-bottom border-2" th:id="'heading'+${id}">
    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" th:attr="data-bs-target='#collapse'+${id}, aria-controls='collapse'+${id}" aria-expanded="false">
      <span th:if="${icon}" class="fas me-2" th:classappend="${icon}"></span>
      <span th:unless="${icon}" class="fas me-2 fa-question-circle"></span>
      <th:block th:text="${title}"></th:block>
    </button>
  </h2>
  <div th:id="'collapse'+${id}" class="accordion-collapse collapse" th:attr="aria-labelledby='heading'+${id},data-bs-parent='#'+${accordionId}">
    <div class="accordion-body">
      <div th:if="${label}" th:text="${label}" class="alert" th:classappend="${labelType}" role="alert"></div>

      <div class="row">
        <!-- The always visible section -->
        <div th:each="term, index: ${terms}" class="col-12">
          <th:block th:if="${index.index} < 5">
            <th:block th:if="${termsLineWidget}">
              <th:block th:insert="~{'inc/'+${termsLineWidget}+'.html'}"></th:block>
            </th:block>
            <th:block th:unless="${termsLineWidget}">
              <div class="form-check mb-1">
                <input class="form-check-input changeableBox" type="checkbox" th:data-id="${id}" th:data-value="${term.text}" th:id="${id}+'-'+${index.count}">
                <label th:text="${term.text}" class="form-check-label" th:for="${id}+'-'+${index.count}"></label>
                <span th:text="${term.count}" th:id="'badge'+'-'+${id}+'-'+${term.id}" class="badge bg-gray badge-pill float-end"></span>
              </div>
            </th:block>
          </th:block>
        </div>

        <!-- The collapsable area with show more link -->
        <th:block th:if="${terms.size()} > 5">
          <div th:each="term, index: ${terms}" th:if="${index.index} >= 5" class="col-12 hidden-item" style="display: none;">
            <th:block th:if="${termsLineWidget}">
              <th:block th:insert="~{'inc/'+${termsLineWidget}+'.html'}"></th:block>
            </th:block>
            <th:block th:unless="${termsLineWidget}">
              <div class="form-check mb-1">
                <input class="form-check-input changeableBox" type="checkbox" th:data-id="${id}" th:data-value="${term.text}" th:id="${id}+'-'+${index.count}">
                <label th:text="${term.text}" class="form-check-label" th:for="${id}+'-'+${index.count}"></label>
                <span th:text="${term.count}" th:id="'badge'+'-'+${id}+'-'+${term.id}" class="badge bg-gray badge-pill float-end"></span>
              </div>
            </th:block>
          </div>
          
          <div class="form-check mb-1">
                <a href="javascript:void(0);" class="show-more-link float-end mt-2">Afficher plus</a>
          </div>
          
        </th:block>
      </div>
    </div>
  </div>
</div>