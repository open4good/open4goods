{
  "openapi": "3.1.0",
  "info": {
    "title": "OpenAPI definition",
    "version": "v0"
  },
  "servers": [
    {
      "url": "http://localhost:8086",
      "description": "Generated server url"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "Commercial events",
      "description": "Expose configured promotional events to the frontend."
    },
    {
      "name": "Share",
      "description": "Resolve shared URLs into product candidates"
    },
    {
      "name": "Authentication",
      "description": "Login and refresh tokens"
    },
    {
      "name": "Product",
      "description": "Read product data, offers, impact score and reviews; trigger AI review generation."
    },
    {
      "name": "Content",
      "description": "Content blocs"
    },
    {
      "name": "Stats",
      "description": "Aggregated catalogue statistics for the frontend UI"
    },
    {
      "name": "Partner",
      "description": "Expose partner directories consumed by the eco-nudger frontend."
    },
    {
      "name": "Affiliation",
      "description": "Resolve affiliation redirect tokens and register redirect telemetry."
    },
    {
      "name": "Exposed Docs",
      "description": "Browse embedded documentation and prompt resources."
    },
    {
      "name": "Feedback",
      "description": "Feedback submission and voting"
    },
    {
      "name": "Quota",
      "description": "IP quota usage and limits"
    },
    {
      "name": "Blog",
      "description": "Blog posts, tags and RSS feed"
    },
    {
      "name": "Administration",
      "description": "Runtime administrative operations"
    },
    {
      "name": "Contact",
      "description": "Public contact form"
    },
    {
      "name": "Agents",
      "description": "AI Agent interactions"
    },
    {
      "name": "OpenData",
      "description": "Metadata describing the public GTIN and ISBN datasets."
    },
    {
      "name": "Team",
      "description": "Nudger team exposed to the frontend"
    },
    {
      "name": "Categories",
      "description": "Retrieve vertical configurations displayed in the catalog navigation."
    }
  ],
  "paths": {
    "/share/resolutions": {
      "post": {
        "tags": [
          "Share"
        ],
        "summary": "Create a share resolution",
        "description": "Accepts a shared URL and starts asynchronous resolution",
        "operationId": "createResolution",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language hint used to resolve locale specific data.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShareResolutionRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Resolution accepted",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for the response",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Unexpected error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "sharedToken": []
          }
        ]
      }
    },
    "/products": {
      "post": {
        "tags": [
          "Product"
        ],
        "summary": "List products",
        "description": "Return paginated products.",
        "operationId": "products",
        "parameters": [
          {
            "name": "include",
            "in": "query",
            "description": "Components to include (can be coma separated)",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "base",
                  "identity",
                  "names",
                  "attributes",
                  "resources",
                  "datasources",
                  "scores",
                  "aiReview",
                  "eprel",
                  "offers",
                  "timeline"
                ]
              }
            }
          },
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Zero-based page index",
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Page size",
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "verticalId",
            "in": "query",
            "description": "Optional vertical identifier used to scope the search.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "query",
            "in": "query",
            "description": "Optional free text search applied on offer names.",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "requestBody": {
          "description": "Optional JSON payload carrying sort, aggregation and filter definitions.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductSearchRequestDto"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Products returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              },
              "Link": {
                "description": "Pagination links as defined by RFC 8288",
                "style": "simple",
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductSearchResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductSearchResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Access forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductSearchResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductSearchResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer-jwt": []
          }
        ]
      }
    },
    "/products/{gtin}/review": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Get AI review generation status",
        "description": "Return the latest status snapshot for the requested product.",
        "operationId": "reviewStatus",
        "parameters": [
          {
            "name": "gtin",
            "in": "path",
            "description": "Product GTIN/UPC (numeric identifier)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "example": 8806095491998,
              "minimum": 0
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Status returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewGenerationStatus"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewGenerationStatus"
                }
              }
            }
          },
          "403": {
            "description": "Access forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewGenerationStatus"
                }
              }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewGenerationStatus"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ReviewGenerationStatus"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer-jwt": []
          }
        ]
      },
      "post": {
        "tags": [
          "Product"
        ],
        "summary": "Trigger AI review generation",
        "description": "Validate the provided hCaptcha token and forward the request to the back-office API. Authenticated users may bypass captcha and force generation.",
        "operationId": "triggerReview",
        "parameters": [
          {
            "name": "gtin",
            "in": "path",
            "description": "Product GTIN/UPC (numeric identifier)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "example": 8806095491998,
              "minimum": 0
            }
          },
          {
            "name": "hcaptchaResponse",
            "in": "query",
            "description": "hCaptcha token returned by the widget (required for anonymous users).",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "force",
            "in": "query",
            "description": "Force review generation when the requester is authenticated.",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Generation scheduled",
            "content": {
              "application/json": {
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          },
          "400": {
            "description": "Captcha verification failed",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "403": {
            "description": "Access forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "429": {
            "description": "Review generation quota exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/products/search": {
      "post": {
        "tags": [
          "Product"
        ],
        "summary": "Execute a global search",
        "description": "Runs a semantic-only search strategy powered by embeddings.",
        "operationId": "globalSearch",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language hint used to resolve locale specific data.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "requestBody": {
          "description": "Global search payload containing the query.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GlobalSearchRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Search executed successfully",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for the response",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GlobalSearchResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GlobalSearchResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Access forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GlobalSearchResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/GlobalSearchResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer-jwt": []
          }
        ]
      }
    },
    "/feedback": {
      "post": {
        "tags": [
          "Feedback"
        ],
        "summary": "Submit a feedback entry",
        "description": "Verify hCaptcha token then create a GitHub issue representing the feedback.",
        "operationId": "submitFeedback",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "requestBody": {
          "description": "Feedback payload to submit.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeedbackSubmissionRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Feedback registered",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackSubmissionResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Captcha validation failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackSubmissionResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Unable to create GitHub issue",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackSubmissionResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/feedback/vote": {
      "post": {
        "tags": [
          "Feedback"
        ],
        "summary": "Vote on a feedback issue",
        "description": "Register a vote for the provided GitHub issue if quotas allow it.",
        "operationId": "vote",
        "parameters": [
          {
            "name": "issueId",
            "in": "query",
            "description": "GitHub issue number to vote for.",
            "required": true,
            "schema": {
              "type": "string",
              "example": 128
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Vote accepted",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackVoteResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Voting not allowed on this issue",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackErrorResponseDto"
                }
              }
            }
          },
          "429": {
            "description": "Vote quota exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackErrorResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/contact": {
      "post": {
        "tags": [
          "Contact"
        ],
        "summary": "Submit a contact message",
        "description": "Verify captcha token and forward the message to the support mailbox. Supports optional template identifiers to prefill the subject and body.",
        "operationId": "submit",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "requestBody": {
          "description": "Contact message payload.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ContactRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Message forwarded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactResponseDto"
                }
              }
            }
          },
          "400": {
            "description": "Captcha verification failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactResponseDto"
                }
              }
            }
          },
          "500": {
            "description": "Mail dispatch failed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ContactResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh access token",
        "description": "Issue a new access token using the refresh token cookie.",
        "operationId": "refresh",
        "parameters": [
          {
            "name": "refresh-token",
            "in": "cookie",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Token refreshed",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthTokensDto"
                }
              }
            }
          },
          "401": {
            "description": "Invalid refresh token",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthTokensDto"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout user",
        "description": "Expire the access and refresh token cookies so the session becomes invalid.",
        "operationId": "logout",
        "responses": {
          "200": {
            "description": "Logout successful",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login with XWiki credentials",
        "description": "Validate credentials against XWiki and return JWT tokens as cookies.",
        "operationId": "login",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Authentication success",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthTokensDto"
                }
              }
            }
          },
          "401": {
            "description": "Authentication failed",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AuthTokensDto"
                }
              }
            }
          }
        }
      }
    },
    "/agents": {
      "post": {
        "tags": [
          "Agents"
        ],
        "summary": "Submit a request to an agent",
        "operationId": "submitRequest",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {}
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Request submitted successfully",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters",
            "content": {}
          },
          "500": {
            "description": "Internal server error",
            "content": {}
          }
        }
      }
    },
    "/affiliations/redirect": {
      "get": {
        "tags": [
          "Affiliation"
        ],
        "summary": "Resolve affiliation token (GET)",
        "description": "Decode an affiliation token, persist tracking metadata and redirect the client.",
        "operationId": "redirectGet",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "Affiliation token obtained from the product catalogue.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          },
          {
            "name": "User-Agent",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "301": {
            "description": "Redirect to affiliation partner",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              },
              "Location": {
                "description": "Decoded affiliation destination.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          },
          "400": {
            "description": "Invalid affiliation token",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Affiliation"
        ],
        "summary": "Resolve affiliation token (POST)",
        "description": "Decode an affiliation token, persist tracking metadata and redirect the client.",
        "operationId": "redirectPost",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "description": "Affiliation token obtained from the product catalogue.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          },
          {
            "name": "User-Agent",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "301": {
            "description": "Redirect to affiliation partner",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              },
              "Location": {
                "description": "Decoded affiliation destination.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "format": "uri"
                }
              }
            }
          },
          "400": {
            "description": "Invalid affiliation token",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/problem+json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetail"
                }
              }
            }
          }
        }
      }
    },
    "/admin/cache/reset": {
      "post": {
        "tags": [
          "Administration"
        ],
        "summary": "Reset every Spring cache",
        "description": "Clear the content of all caches configured for the frontend API.",
        "operationId": "resetCache",
        "responses": {
          "204": {
            "description": "Caches cleared"
          },
          "403": {
            "description": "Forbidden"
          },
          "401": {
            "description": "Unauthenticated"
          }
        }
      }
    },
    "/team": {
      "get": {
        "tags": [
          "Team"
        ],
        "summary": "Get eco-nudger team roster",
        "description": "Return the configured list of core team members and contributors.",
        "operationId": "team",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Team roster returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeamProperties"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TeamProperties"
                }
              }
            }
          }
        }
      }
    },
    "/stats/categories": {
      "get": {
        "tags": [
          "Stats"
        ],
        "summary": "Get categories statistics",
        "description": "Return aggregated statistics about vertical category mappings, affiliation partners and available OpenData items.",
        "operationId": "categories",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoriesStatsDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CategoriesStatsDto"
                }
              }
            }
          }
        }
      }
    },
    "/stats/categories/scores": {
      "get": {
        "tags": [
          "Stats"
        ],
        "summary": "Get categories score cardinalities",
        "description": "Return per-category score cardinalities for each available impact score criteria.",
        "operationId": "categoriesScores",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoriesScoresStatsDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CategoriesScoresStatsDto"
                }
              }
            }
          }
        }
      }
    },
    "/stats/categories/scores/{scoreName}": {
      "get": {
        "tags": [
          "Stats"
        ],
        "summary": "Get category score cardinalities for a score",
        "description": "Return per-category score cardinalities for a single impact score criteria.",
        "operationId": "categoriesScore",
        "parameters": [
          {
            "name": "scoreName",
            "in": "path",
            "description": "Score name to fetch cardinalities for.",
            "required": true,
            "schema": {
              "type": "string",
              "example": "ECOSCORE"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoriesScoreStatsDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CategoriesScoreStatsDto"
                }
              }
            }
          }
        }
      }
    },
    "/share/resolutions/{token}": {
      "get": {
        "tags": [
          "Share"
        ],
        "summary": "Get share resolution status",
        "description": "Poll for the current status of a share resolution token.",
        "operationId": "getResolution",
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "description": "Resolution token returned by the create endpoint",
            "required": true,
            "schema": {
              "type": "string",
              "example": "0df7ce2f-3f9e-44d5-a0c4-5f3f0f7d31a7"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language hint used to resolve locale specific data.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Snapshot found",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for the response",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "en"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          },
          "404": {
            "description": "Unknown token",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ShareResolutionResponseDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "sharedToken": []
          }
        ]
      }
    },
    "/quota/{category}": {
      "get": {
        "tags": [
          "Quota"
        ],
        "summary": "Get IP quota status",
        "description": "Return the quota usage and remaining tokens for the requested category.",
        "operationId": "getQuotaStatus",
        "parameters": [
          {
            "name": "category",
            "in": "path",
            "description": "Quota category identifier.",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/IpQuotaCategory"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Quota status returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IpQuotaStatusDto"
                }
              }
            }
          }
        }
      }
    },
    "/products/{gtin}": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Get product view",
        "description": "Return high‑level product information, aggregated scores and optional AI review content, including datasource favicons for offers and AI source references.",
        "operationId": "product",
        "parameters": [
          {
            "name": "gtin",
            "in": "path",
            "description": "Global Trade Item Number (8–14 digit numeric code)",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64",
              "minimum": 0
            },
            "example": 8806095491998
          },
          {
            "name": "include",
            "in": "query",
            "description": "Components to include in the response (repeatable parameter)",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "base",
                  "identity",
                  "names",
                  "attributes",
                  "resources",
                  "datasources",
                  "scores",
                  "aiReview",
                  "eprel",
                  "offers",
                  "timeline"
                ]
              }
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product found",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          },
          "400": {
            "description": "Invalid GTIN or include parameter",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          },
          "401": {
            "description": "Authentication required",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          },
          "403": {
            "description": "Access forbidden",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          },
          "404": {
            "description": "Product not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer-jwt": []
          }
        ]
      }
    },
    "/products/suggest": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Retrieve search suggestions",
        "description": "Returns category matches resolved from an in-memory index and product hits fetched from Elasticsearch.",
        "operationId": "suggest",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "Free-text fragment typed by the user.",
            "required": true,
            "schema": {
              "type": "string",
              "example": "télév"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language hint to resolve localised category metadata.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Suggestions generated successfully",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for the response",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchSuggestResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/products/fields/sortable": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Get sortable fields",
        "description": "Return the list of fields accepted by the sort parameter.",
        "operationId": "sortableFields",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language used to localise field labels in future responses.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Fields returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/products/fields/sortable/{verticalId}": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Get sortable fields for a vertical",
        "description": "Return the field metadata accepted by the sort parameter, grouped by scope and enriched with vertical specific filters.",
        "operationId": "sortableFieldsForVertical",
        "parameters": [
          {
            "name": "verticalId",
            "in": "path",
            "description": "Identifier of the vertical whose sortable fields are requested.",
            "required": true,
            "schema": {
              "type": "string",
              "example": "tv"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language used to localise field labels in future responses.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Fields returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductFieldOptionsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Vertical not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductFieldOptionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/products/fields/filters": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Get filterable fields",
        "description": "Return the list of fields accepted by the filters parameter.",
        "operationId": "filterableFields",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language used to localise field labels in future responses.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Fields returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/products/fields/filters/{verticalId}": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Get filterable fields for a vertical",
        "description": "Return the field metadata accepted by the filters parameter, grouped by scope and enriched with vertical specific filters.",
        "operationId": "filterableFieldsForVertical",
        "parameters": [
          {
            "name": "verticalId",
            "in": "path",
            "description": "Identifier of the vertical whose filterable fields are requested.",
            "required": true,
            "schema": {
              "type": "string",
              "example": "tv"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language used to localise field labels in future responses.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Fields returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductFieldOptionsResponse"
                }
              }
            }
          },
          "404": {
            "description": "Vertical not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ProductFieldOptionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/products/fields/components": {
      "get": {
        "tags": [
          "Product"
        ],
        "summary": "Get available components",
        "description": "Return the list of components that can be included in product responses.",
        "operationId": "components",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language used to localise component labels in future responses.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Components returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/mentors": {
      "get": {
        "tags": [
          "Partner"
        ],
        "summary": "List mentor partners",
        "description": "Return mentor partners configured from application properties.",
        "operationId": "mentorPartners",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mentor partners returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StaticPartnerDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StaticPartnerDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/ecosystem": {
      "get": {
        "tags": [
          "Partner"
        ],
        "summary": "List ecosystem partners",
        "description": "Return ecosystem partners configured from application properties.",
        "operationId": "ecosystemPartners",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ecosystem partners returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StaticPartnerDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StaticPartnerDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/partners/affiliation": {
      "get": {
        "tags": [
          "Partner"
        ],
        "summary": "List affiliation partners",
        "description": "Return affiliation partners enriched with front-served logo and favicon URLs.",
        "operationId": "affiliationPartners",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Affiliation partners returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AffiliationPartnerDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AffiliationPartnerDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/pages/{xwikiPageId}": {
      "get": {
        "tags": [
          "Content"
        ],
        "summary": "Get XWiki page",
        "description": "Return the rendered XWiki page along with metadata.",
        "operationId": "page",
        "parameters": [
          {
            "name": "xwikiPageId",
            "in": "path",
            "description": "XWiki page path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "webpages:default:legal-notice:WebHome"
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Page found",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FullPageDto"
                }
              }
            }
          },
          "404": {
            "description": "Page not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FullPageDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/FullPageDto"
                }
              }
            }
          }
        }
      }
    },
    "/opendata": {
      "get": {
        "tags": [
          "OpenData"
        ],
        "summary": "Get OpenData overview",
        "description": "Return aggregated metadata about the available GTIN and ISBN datasets.",
        "operationId": "overview",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Overview returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenDataOverviewDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/OpenDataOverviewDto"
                }
              }
            }
          }
        }
      }
    },
    "/opendata/isbn": {
      "get": {
        "tags": [
          "OpenData"
        ],
        "summary": "Get ISBN dataset metadata",
        "description": "Return metadata describing the ISBN OpenData export.",
        "operationId": "isbn",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dataset returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenDataDatasetDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/OpenDataDatasetDto"
                }
              }
            }
          }
        }
      }
    },
    "/opendata/gtin": {
      "get": {
        "tags": [
          "OpenData"
        ],
        "summary": "Get GTIN dataset metadata",
        "description": "Return metadata describing the GTIN OpenData export.",
        "operationId": "gtin",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dataset returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenDataDatasetDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/OpenDataDatasetDto"
                }
              }
            }
          }
        }
      }
    },
    "/feedback/votes/remaining": {
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "Get remaining votes",
        "description": "Return the number of votes still available for the caller today.",
        "operationId": "remainingVotes",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Remaining votes",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackRemainingVotesDto"
                }
              }
            }
          }
        }
      }
    },
    "/feedback/votes/can": {
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "Check voting eligibility",
        "description": "Indicate whether the caller may still vote today.",
        "operationId": "canVote",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Eligibility returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackVoteEligibilityDto"
                }
              }
            }
          }
        }
      }
    },
    "/feedback/issues": {
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "List feedback issues",
        "description": "Return GitHub issues labelled for feedback along with their vote counts.",
        "operationId": "listIssues",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "description": "Optional filter on feedback type.",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Type of feedback entry.",
              "enum": [
                "IDEA",
                "BUG"
              ]
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Issues returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FeedbackIssueDto"
                  }
                }
              }
            }
          },
          "502": {
            "description": "Upstream GitHub failure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackErrorResponseDto"
                }
              }
            }
          }
        }
      }
    },
    "/exposed": {
      "get": {
        "tags": [
          "Exposed Docs"
        ],
        "summary": "List exposed documentation categories",
        "description": "Returns the categories of embedded resources exposed by the documentation service.",
        "operationId": "getOverview",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Domain language hint",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Categories returned",
            "headers": {
              "X-Locale": {
                "description": "Locale applied to the response",
                "style": "simple",
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExposedDocsOverviewDto"
                }
              }
            }
          },
          "404": {
            "description": "Service unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExposedDocsOverviewDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/exposed/{categoryId}": {
      "get": {
        "tags": [
          "Exposed Docs"
        ],
        "summary": "Get exposed resource tree",
        "description": "Returns the directory tree for a specific exposed resource category.",
        "operationId": "getTree",
        "parameters": [
          {
            "name": "categoryId",
            "in": "path",
            "description": "Category identifier",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Domain language hint",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tree returned",
            "headers": {
              "X-Locale": {
                "description": "Locale applied to the response",
                "style": "simple",
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExposedDocsTreeNodeDto"
                }
              }
            }
          },
          "404": {
            "description": "Category not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExposedDocsTreeNodeDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/exposed/{categoryId}/content": {
      "get": {
        "tags": [
          "Exposed Docs"
        ],
        "summary": "Get exposed resource content",
        "description": "Returns the raw content of a documentation resource.",
        "operationId": "getContent",
        "parameters": [
          {
            "name": "categoryId",
            "in": "path",
            "description": "Category identifier",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "path",
            "in": "query",
            "description": "Resource path relative to the category root",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Domain language hint",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Content returned",
            "headers": {
              "X-Locale": {
                "description": "Locale applied to the response",
                "style": "simple",
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExposedDocsContentDto"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ExposedDocsContentDto"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/exposed/search": {
      "get": {
        "tags": [
          "Exposed Docs"
        ],
        "summary": "Search exposed resources",
        "description": "Searches exposed documentation and prompt resources by path or content.",
        "operationId": "search",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "description": "Search query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "categories",
            "in": "query",
            "description": "Categories to search",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "pathPrefix",
            "in": "query",
            "description": "Path prefix filter",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "searchContent",
            "in": "query",
            "description": "Search inside file content",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "includeContent",
            "in": "query",
            "description": "Include file content in results",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Domain language hint",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results returned",
            "headers": {
              "X-Locale": {
                "description": "Locale applied to the response",
                "style": "simple",
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "$ref": "#/components/schemas/ExposedDocsSearchResultDto"
                }
              }
            }
          },
          "404": {
            "description": "Search endpoint unavailable",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ExposedDocsSearchResultDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/commercial-events": {
      "get": {
        "tags": [
          "Commercial events"
        ],
        "summary": "List commercial events",
        "description": "Return configured commercial events for the requested domain language.",
        "operationId": "commercialEvents",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Commercial events returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommercialEvent"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CommercialEvent"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/category": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "List categories",
        "description": "Return vertical configurations. The enabled flag is exposed but not filtered server-side.",
        "operationId": "categories_1",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          },
          {
            "name": "onlyEnabled",
            "in": "query",
            "description": "Deprecated: retained for backward compatibility. All verticals are returned regardless of this flag.",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Categories returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VerticalConfigDto"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VerticalConfigDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/category/{categoryId}": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "Get category details",
        "description": "Return the detailed vertical configuration identified by its id.",
        "operationId": "category",
        "parameters": [
          {
            "name": "categoryId",
            "in": "path",
            "description": "Identifier of the vertical to retrieve.",
            "required": true,
            "schema": {
              "type": "string",
              "example": "tv"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Category returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerticalConfigFullDto"
                }
              }
            }
          },
          "404": {
            "description": "Category not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/VerticalConfigFullDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/VerticalConfigFullDto"
                }
              }
            }
          }
        }
      }
    },
    "/category/navigation": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "Get category navigation",
        "description": "Return the Google taxonomy navigation data required to display deep category navigation.",
        "operationId": "navigation",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields.",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          },
          {
            "name": "googleCategoryId",
            "in": "query",
            "description": "Google taxonomy identifier of the category to retrieve.",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 500001
            }
          },
          {
            "name": "path",
            "in": "query",
            "description": "Slug path identifying the category when the googleCategoryId is not provided.",
            "required": false,
            "schema": {
              "type": "string",
              "example": "electronique/televiseurs"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Navigation data returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CategoryNavigationDto"
                }
              }
            }
          },
          "404": {
            "description": "Category not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CategoryNavigationDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CategoryNavigationDto"
                }
              }
            }
          }
        }
      }
    },
    "/blog/tags": {
      "get": {
        "tags": [
          "Blog"
        ],
        "summary": "List blog tags",
        "description": "Return the list of available blog tags with post counts.",
        "operationId": "tags",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Tags returned",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BlogTagDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/blog/rss": {
      "get": {
        "tags": [
          "Blog"
        ],
        "summary": "Blog RSS feed",
        "description": "Return an RSS feed for all blog posts.",
        "operationId": "rss",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Feed returned",
            "content": {
              "application/rss+xml": {}
            }
          }
        }
      }
    },
    "/blog/posts": {
      "get": {
        "tags": [
          "Blog"
        ],
        "summary": "List blog posts",
        "description": "Return paginated blog posts optionally filtered by tag.",
        "operationId": "posts",
        "parameters": [
          {
            "name": "tag",
            "in": "query",
            "description": "Category/tag to filter on",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pageNumber",
            "in": "query",
            "description": "Zero-based page index",
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Page size",
            "schema": {
              "type": "integer",
              "minimum": 0
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Posts returned",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              },
              "Link": {
                "description": "Pagination links as defined by RFC 8288",
                "style": "simple",
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageDto"
                }
              }
            }
          }
        }
      }
    },
    "/blog/posts/{slug}": {
      "get": {
        "tags": [
          "Blog"
        ],
        "summary": "Get blog post",
        "description": "Return a single blog post identified by its slug.",
        "operationId": "post",
        "parameters": [
          {
            "name": "slug",
            "in": "path",
            "description": "Post slug",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Post found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BlogPostDto"
                }
              }
            }
          },
          "404": {
            "description": "Post not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BlogPostDto"
                }
              }
            }
          }
        }
      }
    },
    "/blocs/{blocId}": {
      "get": {
        "tags": [
          "Content"
        ],
        "summary": "Get content bloc",
        "description": "Return the HTML content of the given XWiki bloc.",
        "operationId": "contentBloc",
        "parameters": [
          {
            "name": "blocId",
            "in": "path",
            "description": "XWiki page path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Main"
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "description": "Language driving localisation of textual fields (future use).",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Bloc found",
            "headers": {
              "X-Locale": {
                "description": "Resolved locale for textual payloads.",
                "style": "simple",
                "schema": {
                  "type": "string",
                  "example": "fr-FR"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/XwikiContentBlocDto"
                }
              }
            }
          },
          "404": {
            "description": "Bloc not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/XwikiContentBlocDto"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/XwikiContentBlocDto"
                }
              }
            }
          }
        }
      }
    },
    "/agents/{issueId}": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "Get details of an agent-created issue",
        "operationId": "getIssue",
        "parameters": [
          {
            "name": "issueId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AgentIssueDto"
                }
              }
            }
          }
        }
      }
    },
    "/agents/templates": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "Get available agent templates",
        "operationId": "listTemplates",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentTemplateDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/agents/mailto": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "Get mailto link for fallback",
        "operationId": "getMailto",
        "parameters": [
          {
            "name": "agentId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "domainLanguage",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/agents/activity": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "Get recent agent activity",
        "operationId": "listActivity",
        "parameters": [
          {
            "name": "domainLanguage",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Domain language hint used to drive localisation of responses.",
              "enum": [
                "fr",
                "en"
              ],
              "example": "fr"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentActivityDto"
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ProductAggregatedPriceDto": {
        "type": "object",
        "properties": {
          "datasourceName": {
            "type": "string",
            "description": "Datasource providing the offer",
            "example": "amazon.fr"
          },
          "favicon": {
            "type": "string",
            "format": "uri",
            "description": "URL pointing to the datasource favicon",
            "example": "https://static.open4goods.org/icon/amazon.fr"
          },
          "offerName": {
            "type": "string",
            "description": "Displayed offer title"
          },
          "url": {
            "type": "string",
            "description": "Target URL of the offer",
            "example": "https://example.org/product/123"
          },
          "compensation": {
            "type": "number",
            "format": "double",
            "description": "Compensation paid when the offer is converted",
            "example": 0.5
          },
          "condition": {
            "type": "string",
            "description": "Condition of the product for this offer",
            "enum": [
              "OCCASION",
              "NEW"
            ]
          },
          "affiliationToken": {
            "type": "string",
            "description": "Affiliation token when available"
          },
          "price": {
            "type": "number",
            "format": "double",
            "description": "Price value"
          },
          "currency": {
            "type": "string",
            "description": "Currency of the price",
            "enum": [
              "EUR",
              "USD",
              "CNY"
            ]
          },
          "timeStamp": {
            "type": "integer",
            "format": "int64",
            "description": "Timestamp of the price in epoch milliseconds"
          },
          "shortPrice": {
            "type": "string",
            "description": "Human friendly representation of the price"
          }
        }
      },
      "ShareCandidateDto": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "description": "Identifier of the product (GTIN or slug)",
            "example": 7612345678901
          },
          "name": {
            "type": "string",
            "description": "Candidate display name",
            "example": "Fairphone 4"
          },
          "image": {
            "type": "string",
            "format": "uri",
            "description": "Preferred image for the candidate",
            "example": "https://cdn.example.org/image.jpg"
          },
          "ecoScore": {
            "type": "number",
            "format": "double",
            "description": "Eco score when available",
            "example": 15.2
          },
          "impactScore": {
            "type": "number",
            "format": "double",
            "description": "Environmental impact score when available",
            "example": 12.5
          },
          "bestPrice": {
            "$ref": "#/components/schemas/ProductAggregatedPriceDto",
            "description": "Best indexed price without triggering live scraping"
          },
          "confidence": {
            "type": "number",
            "format": "double",
            "description": "Confidence score associated to the match",
            "example": 0.86
          }
        }
      },
      "ShareExtractionDto": {
        "type": "object",
        "properties": {
          "gtin": {
            "type": "string",
            "description": "Extracted GTIN when resolvable",
            "example": 7612345678901
          },
          "query": {
            "type": "string",
            "description": "Query derived from the URL or shared content",
            "example": "fairphone 4 smartphone"
          }
        }
      },
      "ShareResolutionResponseDto": {
        "type": "object",
        "properties": {
          "token": {
            "type": "string",
            "description": "Token assigned to the resolution request",
            "example": "0df7ce2f-3f9e-44d5-a0c4-5f3f0f7d31a7"
          },
          "status": {
            "type": "string",
            "description": "Current status of the resolution",
            "enum": [
              "PENDING",
              "RESOLVED",
              "TIMEOUT",
              "ERROR",
              "PENDING",
              "RESOLVED",
              "TIMEOUT",
              "ERROR"
            ]
          },
          "originUrl": {
            "type": "string",
            "description": "Original URL provided by the user",
            "example": "https://shop.example.org/product/fairphone-4"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the resolution started",
            "example": "2024-06-05T12:00:00Z"
          },
          "resolvedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Timestamp when the resolution completed",
            "example": "2024-06-05T12:00:02Z"
          },
          "extracted": {
            "$ref": "#/components/schemas/ShareExtractionDto",
            "description": "Best-effort extraction result"
          },
          "candidates": {
            "type": "array",
            "description": "List of matching candidates",
            "items": {
              "$ref": "#/components/schemas/ShareCandidateDto",
              "description": "List of matching candidates"
            }
          },
          "message": {
            "type": "string",
            "description": "Optional diagnostic message",
            "example": "Resolution timed out after 4 seconds"
          }
        }
      },
      "ShareResolutionRequestDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "Product URL shared from a merchant site",
            "example": "https://shop.example.org/product/fairphone-4"
          },
          "title": {
            "type": "string",
            "description": "Optional title forwarded by the share sheet",
            "example": "Great phone"
          },
          "text": {
            "type": "string",
            "description": "Optional free-form text forwarded by the share sheet",
            "example": "Worth checking this out"
          }
        },
        "required": [
          "url"
        ]
      },
      "Agg": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Aggregation name",
            "example": "aggName"
          },
          "field": {
            "type": "string",
            "description": "Field mapping to aggregate",
            "example": "price.minPrice.price"
          },
          "type": {
            "type": "string",
            "description": "Aggregation type",
            "enum": [
              "terms",
              "range"
            ]
          },
          "min": {
            "type": "number",
            "format": "double",
            "description": "Minimum value for range aggregations"
          },
          "max": {
            "type": "number",
            "format": "double",
            "description": "Maximum value for range aggregations"
          },
          "buckets": {
            "type": "integer",
            "format": "int32",
            "default": 10,
            "description": "Maximum number of buckets to return. For range aggregations this represents the desired bucket count."
          },
          "step": {
            "type": "number",
            "format": "double",
            "description": "Interval size for range aggregations. When provided it overrides the automatic bucket interval computation."
          }
        }
      },
      "AggregationRequestDto": {
        "type": "object",
        "properties": {
          "aggs": {
            "type": "array",
            "description": "List of aggregations to compute",
            "items": {
              "$ref": "#/components/schemas/Agg"
            }
          }
        }
      },
      "Filter": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "Field mapping targeted by the filter.",
            "example": "price.minPrice.price"
          },
          "operator": {
            "type": "string",
            "description": "Filtering strategy to apply.",
            "enum": [
              "term",
              "range"
            ]
          },
          "terms": {
            "type": "array",
            "description": "Exact values accepted when the operator is <code>term</code>. Multiple values are combined with OR semantics.",
            "example": [
              "Fairphone",
              "Samsung"
            ],
            "items": {
              "type": "string"
            }
          },
          "min": {
            "type": "number",
            "format": "double",
            "description": "Inclusive lower bound used when the operator is <code>range</code>.",
            "example": 100.0
          },
          "max": {
            "type": "number",
            "format": "double",
            "description": "Inclusive upper bound used when the operator is <code>range</code>.",
            "example": 500.0
          }
        }
      },
      "FilterGroup": {
        "type": "object",
        "properties": {
          "must": {
            "type": "array",
            "description": "Filters that must all match within the group to be eligible for selection.",
            "items": {
              "$ref": "#/components/schemas/Filter"
            }
          },
          "should": {
            "type": "array",
            "description": "Filters evaluated with OR semantics within the group. This field also accepts the legacy 'filters' key for backward compatibility.",
            "items": {
              "$ref": "#/components/schemas/Filter"
            }
          }
        }
      },
      "FilterRequestDto": {
        "type": "object",
        "properties": {
          "filters": {
            "type": "array",
            "description": "Collection of filter clauses. When omitted no additional filtering is applied.",
            "items": {
              "$ref": "#/components/schemas/Filter"
            }
          },
          "filterGroups": {
            "type": "array",
            "description": "Collection of filter groups combined with AND. Each group can mix mandatory (must) and optional (should) clauses.",
            "items": {
              "$ref": "#/components/schemas/FilterGroup"
            }
          }
        }
      },
      "ProductSearchRequestDto": {
        "type": "object",
        "description": "Search customisation options applied when listing products.",
        "properties": {
          "sort": {
            "$ref": "#/components/schemas/SortRequestDto",
            "description": "Sort criteria applied to the result set."
          },
          "aggs": {
            "$ref": "#/components/schemas/AggregationRequestDto",
            "description": "Aggregations computed alongside the result set."
          },
          "filters": {
            "$ref": "#/components/schemas/FilterRequestDto",
            "description": "Filter clauses restricting the result set."
          },
          "semanticSearch": {
            "type": "boolean",
            "description": "Enable semantic search for text queries."
          }
        }
      },
      "SortOption": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string",
            "description": "Field mapping used for sorting",
            "example": "price.minPrice.price"
          },
          "order": {
            "type": "string",
            "default": "asc",
            "description": "Sort order",
            "enum": [
              "asc",
              "desc"
            ]
          }
        }
      },
      "SortRequestDto": {
        "type": "object",
        "properties": {
          "sorts": {
            "type": "array",
            "description": "Sort options applied in order of appearance",
            "items": {
              "$ref": "#/components/schemas/SortOption"
            }
          }
        }
      },
      "AiReviewSourceDto": {
        "type": "object",
        "properties": {
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Ordinal number used inside the generated review to reference the source",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Human readable name of the source",
            "example": "Manufacturer specifications"
          },
          "description": {
            "type": "string",
            "description": "Short description of the source content",
            "example": "Official datasheet published in 2024"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Public URL to access the source",
            "example": "https://example.org/datasheet.pdf"
          },
          "favicon": {
            "type": "string",
            "format": "uri",
            "description": "URL pointing to the favicon associated with the source domain",
            "example": "https://static.open4goods.org/favicon?url=https://example.org"
          }
        }
      },
      "AiReviewAttributeDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Attribute name extracted from the AI generated content",
            "example": "Battery life"
          },
          "value": {
            "type": "string",
            "description": "Attribute value summarised by the AI review",
            "example": "Up to 24 hours of usage"
          },
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Identifier of the cited source supporting this attribute",
            "example": 2
          }
        }
      },
      "AdditionalDetails": {
        "type": "object",
        "properties": {
          "gtinIdentifier": {
            "type": "string"
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "AggregationBucketDto": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Bucket identifier. For numeric histograms this is the lower bound."
          },
          "to": {
            "type": "number",
            "format": "double",
            "description": "Upper bound when the bucket represents a numeric range."
          },
          "count": {
            "type": "integer",
            "format": "int64",
            "description": "Number of matching products contained in the bucket."
          },
          "missing": {
            "type": "boolean",
            "description": "Whether this bucket corresponds to documents missing the aggregated field."
          }
        }
      },
      "AggregationResponseDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Aggregation name mirroring the request payload."
          },
          "field": {
            "type": "string",
            "description": "Aggregated field"
          },
          "type": {
            "type": "string",
            "description": "Aggregation type",
            "enum": [
              "terms",
              "range"
            ]
          },
          "buckets": {
            "type": "array",
            "description": "Buckets yielded by the aggregation",
            "items": {
              "$ref": "#/components/schemas/AggregationBucketDto"
            }
          },
          "min": {
            "type": "number",
            "format": "double",
            "description": "Minimum observed value when applicable"
          },
          "max": {
            "type": "number",
            "format": "double",
            "description": "Maximum observed value when applicable"
          }
        }
      },
      "AiReviewDto": {
        "type": "object",
        "properties": {
          "description": {
            "type": "string",
            "description": "Detailed description of the product generated by AI",
            "example": "A versatile 6.1'' smartphone with an OLED display and dual camera setup."
          },
          "shortDescription": {
            "type": "string",
            "description": "Short teaser presenting the product",
            "example": "Compact OLED smartphone built for everyday use."
          },
          "mediumTitle": {
            "type": "string",
            "description": "Medium length title summarising the review",
            "example": "A balanced smartphone for demanding users"
          },
          "shortTitle": {
            "type": "string",
            "description": "Short title highlighting the product",
            "example": "Versatile OLED smartphone"
          },
          "technicalReview": {
            "type": "string",
            "description": "Technical analysis extracted from trustworthy sources (Legacy - equivalent to Intermediate)"
          },
          "technicalReviewNovice": {
            "type": "string",
            "description": "Technical analysis for novice users"
          },
          "technicalReviewIntermediate": {
            "type": "string",
            "description": "Technical analysis for intermediate users"
          },
          "technicalReviewAdvanced": {
            "type": "string",
            "description": "Technical analysis for advanced users"
          },
          "technicalShortReview": {
            "type": "string",
            "description": "Short technical summary in 2-3 sentences"
          },
          "ecologicalReview": {
            "type": "string",
            "description": "Ecological assessment derived from the available documentation (Legacy - equivalent to Intermediate)"
          },
          "ecologicalReviewNovice": {
            "type": "string",
            "description": "Ecological assessment for novice users"
          },
          "ecologicalReviewIntermediate": {
            "type": "string",
            "description": "Ecological assessment for intermediate users"
          },
          "ecologicalReviewAdvanced": {
            "type": "string",
            "description": "Ecological assessment for advanced users"
          },
          "communityReviewNovice": {
            "type": "string",
            "description": "Community feedback summary for novice users"
          },
          "communityReviewIntermediate": {
            "type": "string",
            "description": "Community feedback summary for intermediate users"
          },
          "communityReviewAdvanced": {
            "type": "string",
            "description": "Community feedback summary for advanced users"
          },
          "summary": {
            "type": "string",
            "description": "Concise summary mixing technical and ecological highlights"
          },
          "pros": {
            "type": "array",
            "description": "List of pros emphasised by the AI review",
            "items": {
              "type": "string",
              "example": "Long lasting battery"
            }
          },
          "cons": {
            "type": "array",
            "description": "List of cons emphasised by the AI review",
            "items": {
              "type": "string",
              "example": "No wireless charging"
            }
          },
          "sources": {
            "type": "array",
            "description": "Sources cited to support the AI review",
            "items": {
              "$ref": "#/components/schemas/AiReviewSourceDto",
              "description": "Sources cited to support the AI review"
            }
          },
          "attributes": {
            "type": "array",
            "description": "Attributes extracted from the sources and referenced inside the review",
            "items": {
              "$ref": "#/components/schemas/AiReviewAttributeDto",
              "description": "Attributes extracted from the sources and referenced inside the review"
            }
          },
          "dataQuality": {
            "type": "string",
            "description": "Assessment of the data quality available for the product",
            "example": "High quality data with multiple independent tests"
          },
          "technicalOneline": {
            "type": "string",
            "description": "Short technical summary of the product (max 20 words)"
          },
          "ecologicalOneline": {
            "type": "string",
            "description": "Short ecological summary of the product (max 20 words)"
          },
          "communityOneline": {
            "type": "string",
            "description": "Short community summary of the product (max 20 words)"
          }
        }
      },
      "ContactDetails": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "countOfPublishedVersionsUsing": {
            "type": "integer",
            "format": "int64"
          },
          "orderNumber": {
            "type": "integer",
            "format": "int32"
          },
          "contactByReferenceId": {
            "type": "integer",
            "format": "int64"
          },
          "contactReference": {
            "type": "string"
          },
          "serviceName": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "webSiteURL": {
            "type": "string"
          },
          "street": {
            "type": "string"
          },
          "streetNumber": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "province": {
            "type": "string"
          },
          "municipality": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "addressBloc": {
            "type": "string"
          },
          "defaultContact": {
            "type": "boolean"
          },
          "countOfModelsUsed": {
            "type": "integer",
            "format": "int32"
          },
          "countOfPublishedModelsUsed": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "Organisation": {
        "type": "object",
        "properties": {
          "organisationTitle": {
            "type": "string"
          },
          "organisationName": {
            "type": "string"
          },
          "eprelSuggestedOrgIdentifier": {
            "type": "string"
          },
          "modelTransferActive": {
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "website": {
            "type": "string"
          },
          "closeDate": {
            "type": "integer",
            "format": "int64"
          },
          "closeStatus": {
            "type": "string"
          },
          "isClosed": {
            "type": "boolean"
          },
          "guid": {
            "type": "string"
          },
          "personType": {
            "type": "string"
          },
          "supplierTypes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "identityTypeReference": {
            "type": "string"
          },
          "businessRegisterId": {
            "type": "string"
          },
          "organisationIdentifier": {
            "type": "string"
          },
          "blocked": {
            "type": "string"
          }
        }
      },
      "PageDtoProductDto": {
        "type": "object",
        "properties": {
          "page": {
            "$ref": "#/components/schemas/PageMetaDto",
            "description": "Pagination metadata"
          },
          "data": {
            "type": "array",
            "description": "Current page content, to be localised using the domainLanguage query parameter when supported.",
            "items": {
              "$ref": "#/components/schemas/ProductDto"
            }
          }
        }
      },
      "PageMetaDto": {
        "type": "object",
        "properties": {
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Zero-based page index"
          },
          "size": {
            "type": "integer",
            "format": "int32",
            "description": "Requested page size"
          },
          "totalElements": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of elements"
          },
          "totalPages": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of pages"
          }
        }
      },
      "PlacementCountry": {
        "type": "object",
        "properties": {
          "orderNumber": {
            "type": "integer",
            "format": "int32"
          },
          "country": {
            "type": "string"
          }
        }
      },
      "ProductAiReviewDto": {
        "type": "object",
        "properties": {
          "language": {
            "type": "string",
            "description": "Language key that matched the AI review inside the Localisable structure",
            "example": "fr-FR"
          },
          "review": {
            "$ref": "#/components/schemas/AiReviewDto",
            "description": "AI generated review content aligned with the requested domain language"
          },
          "sources": {
            "type": "string",
            "description": "Source weighting for the review content"
          },
          "enoughData": {
            "type": "boolean",
            "description": "Whether enough data was available to trigger the AI review generation"
          },
          "totalTokens": {
            "type": "integer",
            "format": "int32",
            "description": "Total tokens consumed by the generation pipeline",
            "example": 2300
          },
          "createdMs": {
            "type": "integer",
            "format": "int64",
            "description": "Creation timestamp in epoch milliseconds",
            "example": 1690972800000
          }
        }
      },
      "ProductAttributeDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Attribute name",
            "example": "screen_size"
          },
          "value": {
            "type": "string",
            "description": "Attribute value",
            "example": 55
          },
          "icecatTaxonomyIds": {
            "type": "array",
            "description": "Icecat taxonomy identifiers associated to the attribute",
            "items": {
              "type": "integer",
              "format": "int32"
            },
            "uniqueItems": true
          },
          "sourcing": {
            "$ref": "#/components/schemas/ProductAttributeSourceDto",
            "description": "Sourcing metadata for this attribute, including contributing datasources"
          }
        }
      },
      "ProductAttributeSourceDto": {
        "type": "object",
        "properties": {
          "bestValue": {
            "type": "string",
            "description": "Resolved best value for the attribute",
            "example": 55
          },
          "sources": {
            "type": "array",
            "description": "Datasource contributions used to compute the best value",
            "items": {
              "$ref": "#/components/schemas/ProductSourcedAttributeDto"
            },
            "uniqueItems": true
          },
          "conflicts": {
            "type": "boolean",
            "description": "Flag indicating whether conflicting datasource values exist"
          }
        }
      },
      "ProductAttributesDto": {
        "type": "object",
        "properties": {
          "referentialAttributes": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Referential attributes keyed by the official attribute key"
          },
          "indexedAttributes": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ProductIndexedAttributeDto"
            },
            "description": "Indexed attributes keyed by their identifier"
          },
          "classifiedAttributes": {
            "type": "array",
            "description": "Attributes classified using Icecat feature groups hierarchy",
            "items": {
              "$ref": "#/components/schemas/ProductClassifiedAttributeGroupDto"
            }
          },
          "allAttributes": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ProductAttributeDto"
            },
            "description": "All raw attributes keyed by their identifier"
          }
        }
      },
      "ProductBaseDto": {
        "type": "object",
        "properties": {
          "gtin": {
            "type": "integer",
            "format": "int64",
            "description": "Product GTIN as stored in the catalogue",
            "example": 7612345678901
          },
          "creationDate": {
            "type": "integer",
            "format": "int64",
            "description": "Creation timestamp expressed in epoch milliseconds",
            "example": 1693000000000
          },
          "lastChange": {
            "type": "integer",
            "format": "int64",
            "description": "Last modification timestamp expressed in epoch milliseconds",
            "example": 1693590000000
          },
          "vertical": {
            "type": "string",
            "description": "Associated vertical identifier",
            "example": "electronics"
          },
          "externalIds": {
            "$ref": "#/components/schemas/ProductExternalIdsDto",
            "description": "External identifiers assigned to the product"
          },
          "googleTaxonomyId": {
            "type": "integer",
            "format": "int32",
            "description": "Google taxonomy identifier",
            "example": 123
          },
          "excluded": {
            "type": "boolean",
            "description": "Whether the product is excluded from vertical representation"
          },
          "excludedCauses": {
            "type": "array",
            "description": "Reasons explaining why the product is excluded",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "gtinInfo": {
            "$ref": "#/components/schemas/ProductGtinInfoDto",
            "description": "Information inferred from the GTIN itself"
          },
          "coverImagePath": {
            "type": "string",
            "description": "Absolute URL of the preferred cover image when available",
            "example": "https://cdn.example.org/covers/123.jpg"
          },
          "bestName": {
            "type": "string",
            "description": "Best human readable name derived from brand/model or offer data",
            "example": "Fairphone 4"
          },
          "ecoscoreValue": {
            "type": "number",
            "format": "double",
            "description": "Value of the ECOSCORE when available",
            "example": 15.5
          }
        }
      },
      "ProductCardinalityDto": {
        "type": "object",
        "properties": {
          "min": {
            "type": "number",
            "format": "double",
            "description": "Minimal value encountered"
          },
          "max": {
            "type": "number",
            "format": "double",
            "description": "Maximal value encountered"
          },
          "avg": {
            "type": "number",
            "format": "double",
            "description": "Average value across the population"
          },
          "count": {
            "type": "integer",
            "format": "int32",
            "description": "Number of elements composing the population"
          },
          "sum": {
            "type": "number",
            "format": "double",
            "description": "Sum of the values"
          },
          "stdDev": {
            "type": "number",
            "format": "double",
            "description": "Standard deviation of the distribution"
          },
          "value": {
            "type": "number",
            "format": "double",
            "description": "Current value"
          }
        }
      },
      "ProductClassifiedAttributeGroupDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Localized display name of the feature group",
            "example": "General"
          },
          "attributes": {
            "type": "array",
            "description": "All attributes associated with the feature group",
            "items": {
              "$ref": "#/components/schemas/ProductAttributeDto"
            }
          },
          "features": {
            "type": "array",
            "description": "Attributes flagged as features in the Icecat taxonomy",
            "items": {
              "$ref": "#/components/schemas/ProductAttributeDto"
            }
          },
          "unFeatures": {
            "type": "array",
            "description": "Attributes flagged as unfeatures in the Icecat taxonomy",
            "items": {
              "$ref": "#/components/schemas/ProductAttributeDto"
            }
          }
        }
      },
      "ProductDatasourcesDto": {
        "type": "object",
        "properties": {
          "datasourceCodes": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            },
            "description": "Codes assigned to the product by each datasource"
          }
        }
      },
      "ProductDto": {
        "type": "object",
        "properties": {
          "gtin": {
            "type": "integer",
            "format": "int64",
            "description": "Product GTIN, it is the unique identifier",
            "example": 7612345678901
          },
          "slug": {
            "type": "string",
            "description": "Canonical product URL previously exposed as names.url",
            "example": "https://example.org/products/123"
          },
          "fullSlug": {
            "type": "string",
            "description": "Fully qualified slug composed of the vertical home URL and the product slug",
            "example": "/telephones-reconditionnes/fairphone-4"
          },
          "base": {
            "$ref": "#/components/schemas/ProductBaseDto",
            "description": "Basic product metadata"
          },
          "identity": {
            "$ref": "#/components/schemas/ProductIdentityDto",
            "description": "Identity facet exposing brand, model and alternate identifiers"
          },
          "names": {
            "$ref": "#/components/schemas/ProductNamesDto",
            "description": "Localised textual information resolved using the domainLanguage query parameter when available."
          },
          "attributes": {
            "$ref": "#/components/schemas/ProductAttributesDto",
            "description": "Structured attributes aggregated from all datasources"
          },
          "resources": {
            "$ref": "#/components/schemas/ProductResourcesDto",
            "description": "Associated media resources"
          },
          "datasources": {
            "$ref": "#/components/schemas/ProductDatasourcesDto",
            "description": "Datasource related information"
          },
          "scores": {
            "$ref": "#/components/schemas/ProductScoresDto",
            "description": "Score and ranking related information"
          },
          "aiReview": {
            "$ref": "#/components/schemas/ProductAiReviewDto",
            "description": "AI generated review resolved for the requested domain language"
          },
          "eprel": {
            "$ref": "#/components/schemas/ProductEprelDto",
            "description": "EPREL product information when available"
          },
          "offers": {
            "$ref": "#/components/schemas/ProductOffersDto",
            "description": "Product offers and pricing information"
          },
          "timeline": {
            "$ref": "#/components/schemas/ProductTimelineDto",
            "description": "Lifecycle timeline combining price history and EPREL milestones"
          }
        }
      },
      "ProductEprelDto": {
        "type": "object",
        "description": "EPREL product metadata without category specific attributes",
        "properties": {
          "eprelRegistrationNumber": {
            "type": "string"
          },
          "productGroup": {
            "type": "string"
          },
          "implementingAct": {
            "type": "string"
          },
          "trademarkId": {
            "type": "integer",
            "format": "int64"
          },
          "supplierOrTrademark": {
            "type": "string"
          },
          "modelIdentifier": {
            "type": "string"
          },
          "versionId": {
            "type": "integer",
            "format": "int64"
          },
          "versionNumber": {
            "type": "number"
          },
          "lastVersion": {
            "type": "boolean"
          },
          "allowEprelLabelGeneration": {
            "type": "boolean"
          },
          "productModelCoreId": {
            "type": "integer",
            "format": "int64"
          },
          "registrantNature": {
            "type": "string"
          },
          "constructedEUID": {
            "type": "string"
          },
          "energyLabelId": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "string"
          },
          "skipScaleValidation": {
            "type": "boolean"
          },
          "energyClass": {
            "type": "string"
          },
          "energyClassImage": {
            "type": "string"
          },
          "formType": {
            "type": "string"
          },
          "visibleToUkMsa": {
            "type": "boolean"
          },
          "exportDateTs": {
            "type": "integer",
            "format": "int64"
          },
          "importedOn": {
            "type": "integer",
            "format": "int64"
          },
          "orgVerificationStatus": {
            "type": "string"
          },
          "trademarkVerificationStatus": {
            "type": "string"
          },
          "blocked": {
            "type": "boolean"
          },
          "uploadedLabels": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UploadedLabel"
            }
          },
          "contactDetails": {
            "$ref": "#/components/schemas/ContactDetails"
          },
          "placementCountries": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PlacementCountry"
            }
          },
          "organisation": {
            "$ref": "#/components/schemas/Organisation"
          },
          "numericGtin": {
            "type": "integer",
            "format": "int64"
          },
          "eprelCategories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "eprelCategory": {
            "type": "string",
            "deprecated": true
          },
          "categorySpecificAttributes": {
            "type": "object",
            "additionalProperties": {}
          },
          "onMarketStartDate": {
            "type": "integer",
            "format": "int64"
          },
          "onMarketStartDateTS": {
            "type": "integer",
            "format": "int64"
          },
          "onMarketEndDate": {
            "type": "integer",
            "format": "int64"
          },
          "onMarketEndDateTS": {
            "type": "integer",
            "format": "int64"
          },
          "onMarketFirstStartDate": {
            "type": "integer",
            "format": "int64"
          },
          "onMarketFirstStartDateTS": {
            "type": "integer",
            "format": "int64"
          },
          "firstPublicationDate": {
            "type": "integer",
            "format": "int64"
          },
          "firstPublicationDateTS": {
            "type": "integer",
            "format": "int64"
          },
          "publishedOnDate": {
            "type": "integer",
            "format": "int64"
          },
          "publishedOnDateTS": {
            "type": "integer",
            "format": "int64"
          },
          "gtinIdentifier": {
            "type": "string"
          },
          "additionalDetails": {
            "$ref": "#/components/schemas/AdditionalDetails"
          },
          "category": {
            "writeOnly": true
          }
        }
      },
      "ProductExternalIdsDto": {
        "type": "object",
        "properties": {
          "asin": {
            "type": "string",
            "description": "Amazon Standard Identification Number",
            "example": "B012345678"
          },
          "icecat": {
            "type": "string",
            "description": "Icecat identifier",
            "example": 12345
          },
          "mpn": {
            "type": "array",
            "description": "Known manufacturer part numbers",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "sku": {
            "type": "array",
            "description": "Known stock keeping units",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          }
        }
      },
      "ProductGtinInfoDto": {
        "type": "object",
        "properties": {
          "upcType": {
            "type": "string",
            "description": "UPC type derived from the GTIN",
            "enum": [
              "ISBN_13",
              "GTIN_13",
              "GTIN_8",
              "GTIN_12",
              "GTIN_14",
              "UNKNOWN"
            ]
          },
          "countryCode": {
            "type": "string",
            "description": "Manufacturer country code inferred from the GTIN prefix",
            "example": "FR"
          },
          "countryName": {
            "type": "string",
            "description": "Manufacturer country name localised with the requested domainLanguage",
            "example": "France"
          },
          "countryFlagUrl": {
            "type": "string",
            "description": "URL of the country flag icon matching the manufacturer country",
            "example": "/images/flags/fr.png"
          }
        }
      },
      "ProductIdentityDto": {
        "type": "object",
        "properties": {
          "brand": {
            "type": "string",
            "description": "Preferred brand extracted from referential attributes",
            "example": "Sony"
          },
          "model": {
            "type": "string",
            "description": "Preferred model extracted from referential attributes",
            "example": "WH-1000XM5"
          },
          "bestName": {
            "type": "string",
            "description": "Best human readable name synthesised from brand and model when available",
            "example": "Sony WH-1000XM5"
          },
          "randomModel": {
            "type": "string",
            "description": "Randomly selected model amongst the known alternatives",
            "example": "WH-1000XM5B"
          },
          "shortestModel": {
            "type": "string",
            "description": "Shortest known model value",
            "example": "XM5"
          },
          "akaModels": {
            "type": "array",
            "description": "Set of alternative model identifiers discovered across datasources",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "akaBrandsByDatasource": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Alternative brand values keyed by datasource"
          },
          "akaBrands": {
            "type": "array",
            "description": "Distinct set of alternative brand values",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          }
        }
      },
      "ProductImageDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "Optimised resource URL",
            "example": "https://cdn.example.org/images/product_abc.webp"
          },
          "mimeType": {
            "type": "string",
            "description": "Optimised MIME type",
            "example": "image/webp"
          },
          "originalUrl": {
            "type": "string",
            "description": "original resource URL",
            "example": "https://cdn.example.org/images/product_abc.jpg"
          },
          "originalMimeType": {
            "type": "string",
            "description": "original MIME type",
            "example": "image/jpeg"
          },
          "timeStamp": {
            "type": "integer",
            "format": "int64",
            "description": "Last update timestamp in epoch milliseconds"
          },
          "cacheKey": {
            "type": "string",
            "description": "Cache key used by the media pipeline"
          },
          "evicted": {
            "type": "boolean",
            "description": "Whether the resource has been evicted from the catalogue"
          },
          "processed": {
            "type": "boolean",
            "description": "Whether the resource has been processed"
          },
          "status": {
            "type": "string",
            "description": "Status assigned by the ingestion pipeline",
            "enum": [
              "MD5_CHECKSUM_FAIL",
              "PROTOCOL_EXCEPTION",
              "IO_EXCEPTION",
              "NO_MIME_TYPE",
              "MD5_EXCLUSION",
              "MD5_DUPLICATE",
              "TOO_SMALL",
              "CANNOT_ANALYSE",
              "PERCEPTIV_HASH_FAIL",
              "PDF_PARSING_ERROR"
            ]
          },
          "fileSize": {
            "type": "integer",
            "format": "int64",
            "description": "Size in bytes when known",
            "example": 102400
          },
          "fileName": {
            "type": "string",
            "description": "File name extracted from the URL",
            "example": "product"
          },
          "extension": {
            "type": "string",
            "description": "File extension",
            "example": "jpg"
          },
          "md5": {
            "type": "string",
            "description": "MD5 checksum when available"
          },
          "resourceType": {
            "type": "string",
            "description": "Resource type",
            "enum": [
              "IMAGE",
              "PDF",
              "UNKNOWN",
              "VIDEO"
            ]
          },
          "height": {
            "type": "integer",
            "format": "int32",
            "description": "Image height in pixels",
            "example": 1080
          },
          "width": {
            "type": "integer",
            "format": "int32",
            "description": "Image width in pixels",
            "example": 1920
          },
          "group": {
            "type": "integer",
            "format": "int32",
            "description": "Group identifier used to cluster similar images"
          },
          "datasourceName": {
            "type": "string",
            "description": "Datasource providing the resource",
            "example": "amazon.fr"
          },
          "tags": {
            "type": "array",
            "description": "Tags describing the resource",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "hardTags": {
            "type": "array",
            "description": "Hard tags describing the resource nature",
            "items": {
              "type": "string",
              "enum": [
                "AMAZON_PRIMARY_TAG",
                "AMAZON_VARIANT_TAG",
                "PRIMARY",
                "REPAIRABILITY_SHEET",
                "PRODUCT_SHEET",
                "MANUAL",
                "INFORMATION_SHEET",
                "ENERGY_LABEL",
                "LEAFLET"
              ]
            },
            "uniqueItems": true
          }
        }
      },
      "ProductIndexedAttributeDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Attribute name",
            "example": "color"
          },
          "value": {
            "type": "string",
            "description": "Attribute value",
            "example": "black"
          },
          "numericValue": {
            "type": "number",
            "format": "double",
            "description": "Numeric interpretation when available",
            "example": 12.5
          },
          "booleanValue": {
            "type": "boolean",
            "description": "Boolean interpretation when available"
          },
          "sourcing": {
            "$ref": "#/components/schemas/ProductAttributeSourceDto",
            "description": "Sourcing metadata attached to the indexed attribute"
          }
        }
      },
      "ProductNamesDto": {
        "type": "object",
        "properties": {
          "h1Title": {
            "type": "string",
            "description": "H1 title for the requested language",
            "example": "Casque Bluetooth haut de gamme"
          },
          "prettyName": {
            "type": "string",
            "description": "Pretty name for the requested language",
            "example": "Télévision Samsung 55 \""
          },
          "singular": {
            "type": "string",
            "description": "Singular product name for the requested language",
            "example": "Téléviseur"
          },
          "singularDesignation": {
            "type": "string",
            "description": "Singular designation for the requested language",
            "example": "du téléviseur"
          },
          "metaDescription": {
            "type": "string",
            "description": "Meta description aligned with the requested language"
          },
          "ogTitle": {
            "type": "string",
            "description": "OpenGraph title for social sharing"
          },
          "ogDescription": {
            "type": "string",
            "description": "OpenGraph description for social sharing"
          },
          "cardTitle": {
            "type": "string",
            "description": "Title for product card",
            "example": "Samsung TV"
          },
          "shortName": {
            "type": "string",
            "description": "Short name",
            "example": "Samsung TV"
          },
          "longName": {
            "type": "string",
            "description": "Long name",
            "example": "Samsung TV 55 inches 4K"
          },
          "offerNames": {
            "type": "array",
            "description": "Offer names aggregated across datasources",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "longestOfferName": {
            "type": "string",
            "description": "Longest detected offer name"
          },
          "shortestOfferName": {
            "type": "string",
            "description": "Shortest detected offer name"
          }
        }
      },
      "ProductOffersDto": {
        "type": "object",
        "properties": {
          "offersCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of offers aggregated for this product",
            "example": 12
          },
          "hasOccasions": {
            "type": "boolean",
            "description": "Whether the catalogue exposes occasion offers for this product"
          },
          "bestPrice": {
            "$ref": "#/components/schemas/ProductAggregatedPriceDto",
            "description": "Best price across all conditions"
          },
          "bestNewOffer": {
            "$ref": "#/components/schemas/ProductAggregatedPriceDto",
            "description": "Best price for new offers"
          },
          "bestOccasionOffer": {
            "$ref": "#/components/schemas/ProductAggregatedPriceDto",
            "description": "Best price for occasion offers"
          },
          "offersByCondition": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/ProductAggregatedPriceDto"
              }
            },
            "description": "Aggregated offers grouped by product condition"
          },
          "newHistory": {
            "$ref": "#/components/schemas/ProductPriceHistoryDto",
            "description": "Price history for brand new products"
          },
          "occasionHistory": {
            "$ref": "#/components/schemas/ProductPriceHistoryDto",
            "description": "Price history for second hand products"
          },
          "newTrend": {
            "$ref": "#/components/schemas/ProductPriceTrendDto",
            "description": "Trend computed from brand new offers"
          },
          "occasionTrend": {
            "$ref": "#/components/schemas/ProductPriceTrendDto",
            "description": "Trend computed from occasion offers"
          }
        }
      },
      "ProductPdfDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "Resource URL",
            "example": "https://cdn.example.org/pdfs/product_abc.pdf"
          },
          "mimeType": {
            "type": "string",
            "description": "Detected MIME type",
            "example": "application/pdf"
          },
          "timeStamp": {
            "type": "integer",
            "format": "int64",
            "description": "Last update timestamp in epoch milliseconds"
          },
          "cacheKey": {
            "type": "string",
            "description": "Cache key used by the media pipeline"
          },
          "evicted": {
            "type": "boolean",
            "description": "Whether the resource has been evicted from the catalogue"
          },
          "processed": {
            "type": "boolean",
            "description": "Whether the resource has been processed"
          },
          "status": {
            "type": "string",
            "description": "Status assigned by the ingestion pipeline",
            "enum": [
              "MD5_CHECKSUM_FAIL",
              "PROTOCOL_EXCEPTION",
              "IO_EXCEPTION",
              "NO_MIME_TYPE",
              "MD5_EXCLUSION",
              "MD5_DUPLICATE",
              "TOO_SMALL",
              "CANNOT_ANALYSE",
              "PERCEPTIV_HASH_FAIL",
              "PDF_PARSING_ERROR"
            ]
          },
          "fileSize": {
            "type": "integer",
            "format": "int64",
            "description": "Size in bytes when known",
            "example": 512000
          },
          "fileName": {
            "type": "string",
            "description": "File name extracted from the URL",
            "example": "product"
          },
          "extension": {
            "type": "string",
            "description": "File extension",
            "example": "pdf"
          },
          "md5": {
            "type": "string",
            "description": "MD5 checksum when available"
          },
          "resourceType": {
            "type": "string",
            "description": "Resource type",
            "enum": [
              "IMAGE",
              "PDF",
              "UNKNOWN",
              "VIDEO"
            ]
          },
          "group": {
            "type": "integer",
            "format": "int32",
            "description": "Group identifier used to cluster similar resources"
          },
          "datasourceName": {
            "type": "string",
            "description": "Datasource providing the resource",
            "example": "manufacturer"
          },
          "tags": {
            "type": "array",
            "description": "Tags describing the resource",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "hardTags": {
            "type": "array",
            "description": "Hard tags describing the resource nature",
            "items": {
              "type": "string",
              "enum": [
                "AMAZON_PRIMARY_TAG",
                "AMAZON_VARIANT_TAG",
                "PRIMARY",
                "REPAIRABILITY_SHEET",
                "PRODUCT_SHEET",
                "MANUAL",
                "INFORMATION_SHEET",
                "ENERGY_LABEL",
                "LEAFLET"
              ]
            },
            "uniqueItems": true
          },
          "metadataTitle": {
            "type": "string",
            "description": "Title extracted from the PDF metadata",
            "example": "User manual"
          },
          "extractedTitle": {
            "type": "string",
            "description": "Title extracted from the PDF content",
            "example": "Operating instructions"
          },
          "numberOfPages": {
            "type": "integer",
            "format": "int32",
            "description": "Number of pages contained in the document",
            "example": 48
          },
          "author": {
            "type": "string",
            "description": "Author declared in the metadata",
            "example": "Example Corp"
          },
          "subject": {
            "type": "string",
            "description": "Subject declared in the metadata"
          },
          "keywords": {
            "type": "string",
            "description": "Keywords declared in the metadata"
          },
          "creationDate": {
            "type": "integer",
            "format": "int64",
            "description": "Creation timestamp in epoch milliseconds"
          },
          "modificationDate": {
            "type": "integer",
            "format": "int64",
            "description": "Last modification timestamp in epoch milliseconds"
          },
          "producer": {
            "type": "string",
            "description": "Producer declared in the metadata"
          },
          "language": {
            "type": "string",
            "description": "Detected language",
            "example": "fr"
          },
          "languageConfidence": {
            "type": "number",
            "format": "double",
            "description": "Confidence score associated with the detected language",
            "example": 0.95
          }
        }
      },
      "ProductPriceHistoryDto": {
        "type": "object",
        "properties": {
          "entries": {
            "type": "array",
            "description": "Full history entries sorted chronologically",
            "items": {
              "$ref": "#/components/schemas/ProductPriceHistoryEntryDto"
            }
          },
          "lowest": {
            "$ref": "#/components/schemas/ProductPriceHistoryEntryDto",
            "description": "Lowest recorded price in history"
          },
          "highest": {
            "$ref": "#/components/schemas/ProductPriceHistoryEntryDto",
            "description": "Highest recorded price in history"
          },
          "average": {
            "type": "number",
            "format": "double",
            "description": "Average price over the recorded history"
          }
        }
      },
      "ProductPriceHistoryEntryDto": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "integer",
            "format": "int64",
            "description": "Timestamp of the history entry in epoch milliseconds"
          },
          "price": {
            "type": "number",
            "format": "double",
            "description": "Price recorded at the given timestamp"
          }
        }
      },
      "ProductPriceTrendDto": {
        "type": "object",
        "properties": {
          "trend": {
            "type": "string",
            "description": "Direction of the price evolution compared to the previous entry",
            "enum": [
              "PRICE_DECREASE",
              "PRICE_STABLE",
              "PRICE_INCREASE"
            ]
          },
          "period": {
            "type": "integer",
            "format": "int64",
            "description": "Elapsed time in milliseconds between the two last price measurements",
            "example": 86400000
          },
          "actualPrice": {
            "type": "number",
            "format": "double",
            "description": "Current price used for the trend computation",
            "example": 199.99
          },
          "lastPrice": {
            "type": "number",
            "format": "double",
            "description": "Previous price used as a comparison point",
            "example": 189.99
          },
          "variation": {
            "type": "number",
            "format": "double",
            "description": "Absolute price difference between the current and the previous value",
            "example": 10.0
          },
          "historicalLowestPrice": {
            "type": "number",
            "format": "double",
            "description": "Lowest historical price found in the series",
            "example": 149.99
          },
          "historicalVariation": {
            "type": "number",
            "format": "double",
            "description": "Difference between the current price and the historical lowest value",
            "example": 50.0
          }
        }
      },
      "ProductRankingDto": {
        "type": "object",
        "properties": {
          "globalPosition": {
            "type": "integer",
            "format": "int64",
            "description": "Global ranking position",
            "example": 120
          },
          "globalCount": {
            "type": "integer",
            "format": "int64",
            "description": "Number of items considered in the global ranking",
            "example": 5000
          },
          "globalBest": {
            "$ref": "#/components/schemas/ProductReferenceDto",
            "description": "Details about the best ranked product"
          },
          "globalBetter": {
            "$ref": "#/components/schemas/ProductReferenceDto",
            "description": "Details about the product ranked immediately above"
          },
          "specializedPosition": {
            "type": "integer",
            "format": "int64",
            "description": "Specialised ranking position",
            "example": 12
          },
          "specializedCount": {
            "type": "integer",
            "format": "int64",
            "description": "Number of items considered in the specialised ranking",
            "example": 120
          },
          "specializedBest": {
            "type": "string",
            "description": "Identifier of the best product in the specialised ranking"
          },
          "specializedBetter": {
            "type": "string",
            "description": "Identifier of the product ranked immediately above in the specialised ranking"
          }
        }
      },
      "ProductReferenceDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "GTIN identifier of the referenced product",
            "example": 7612345678901
          },
          "fullSlug": {
            "type": "string",
            "description": "Fully qualified slug pointing to the product page",
            "example": "/telephones-reconditionnes/fairphone-4"
          },
          "bestName": {
            "type": "string",
            "description": "Best resolved product name",
            "example": "Fairphone 4"
          },
          "brand": {
            "type": "string",
            "description": "Brand associated with the product",
            "example": "Fairphone"
          },
          "model": {
            "type": "string",
            "description": "Model identifier exposed by the datasource",
            "example": "FP4"
          },
          "scores": {
            "description": "Score and ranking related information"
          }
        }
      },
      "ProductResourcesDto": {
        "type": "object",
        "properties": {
          "images": {
            "type": "array",
            "description": "Images grouped and ranked by relevance",
            "items": {
              "$ref": "#/components/schemas/ProductImageDto"
            }
          },
          "videos": {
            "type": "array",
            "description": "Video resources extracted from datasources",
            "items": {
              "$ref": "#/components/schemas/ProductVideoDto"
            }
          },
          "pdfs": {
            "type": "array",
            "description": "PDF resources extracted from datasources",
            "items": {
              "$ref": "#/components/schemas/ProductPdfDto"
            }
          },
          "coverImagePath": {
            "type": "string",
            "description": "Absolute URL of the preferred cover image when available",
            "example": "https://cdn.example.org/covers/123.jpg"
          },
          "externalCover": {
            "type": "string",
            "description": "External cover automatically computed from resources",
            "example": "https://cdn.example.org/cover.jpg"
          }
        }
      },
      "ProductScoreDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Score id",
            "example": "ENERGY"
          },
          "name": {
            "type": "string",
            "description": "Score name",
            "example": "Classe energetique"
          },
          "description": {
            "type": "string",
            "description": "Score description",
            "example": "La classe énergetique de l'objet"
          },
          "virtual": {
            "type": "boolean",
            "description": "Whether the score is virtual"
          },
          "value": {
            "type": "number",
            "format": "double",
            "description": "Raw score value"
          },
          "absolute": {
            "$ref": "#/components/schemas/ProductCardinalityDto",
            "description": "Absolute cardinality information"
          },
          "relativ": {
            "$ref": "#/components/schemas/ProductCardinalityDto",
            "description": "Relative cardinality information"
          },
          "metadatas": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Additional metadata"
          },
          "ranking": {
            "type": "integer",
            "format": "int32",
            "description": "Ranking of the product for this score"
          },
          "lowestScore": {
            "$ref": "#/components/schemas/ProductReferenceDto",
            "description": "Details for the product with the lowest score"
          },
          "highestScore": {
            "$ref": "#/components/schemas/ProductReferenceDto",
            "description": "Details for the product with the highest score"
          },
          "percent": {
            "type": "integer",
            "format": "int64",
            "description": "Percentage representation of the score on a 0-100 scale"
          },
          "on20": {
            "type": "integer",
            "format": "int64",
            "description": "Score scaled on 0-20"
          },
          "absoluteValue": {
            "type": "string",
            "description": "Absolute value formatted as text"
          },
          "relativeValue": {
            "type": "string",
            "description": "Relative value formatted as text"
          },
          "letter": {
            "type": "string",
            "description": "Letter grade representation"
          }
        }
      },
      "ProductScoresDto": {
        "type": "object",
        "properties": {
          "scores": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ProductScoreDto"
            },
            "description": "All scores keyed by their identifier"
          },
          "ecoscore": {
            "$ref": "#/components/schemas/ProductScoreDto",
            "description": "Ecoscore when available"
          },
          "ranking": {
            "$ref": "#/components/schemas/ProductRankingDto",
            "description": "Ecoscore derived rankings"
          }
        }
      },
      "ProductSearchResponseDto": {
        "type": "object",
        "properties": {
          "products": {
            "$ref": "#/components/schemas/PageDtoProductDto",
            "description": "Paginated products matching the search criteria"
          },
          "aggregations": {
            "type": "array",
            "description": "Aggregation buckets computed for the current query",
            "items": {
              "$ref": "#/components/schemas/AggregationResponseDto"
            }
          }
        }
      },
      "ProductSourcedAttributeDto": {
        "type": "object",
        "properties": {
          "datasourceName": {
            "type": "string",
            "description": "Datasource providing the attribute",
            "example": "example-shop"
          },
          "value": {
            "type": "string",
            "description": "Attribute value",
            "example": 55
          },
          "language": {
            "type": "string",
            "description": "Attribute language when provided",
            "example": "fr"
          },
          "icecatTaxonomyId": {
            "type": "integer",
            "format": "int32",
            "description": "Icecat taxonomy identifier for the attribute"
          },
          "name": {
            "type": "string",
            "description": "Attribute label provided by the datasource"
          }
        }
      },
      "ProductTimelineDto": {
        "type": "object",
        "properties": {
          "events": {
            "type": "array",
            "description": "Chronologically sorted lifecycle events",
            "items": {
              "$ref": "#/components/schemas/ProductTimelineEventDto"
            }
          }
        }
      },
      "ProductTimelineEventDto": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "integer",
            "format": "int64",
            "description": "Epoch milliseconds describing when the event occurred",
            "example": 1711929600000
          },
          "type": {
            "$ref": "#/components/schemas/ProductTimelineEventType",
            "description": "Type of lifecycle event"
          },
          "source": {
            "$ref": "#/components/schemas/ProductTimelineEventSource",
            "description": "Source system where the event originates"
          },
          "condition": {
            "type": "string",
            "description": "Product condition associated with the event when relevant",
            "enum": [
              "OCCASION",
              "NEW"
            ]
          },
          "price": {
            "type": "number",
            "format": "double",
            "description": "Recorded price when the event originates from price history",
            "example": 249.99
          }
        }
      },
      "ProductTimelineEventSource": {
        "type": "string",
        "description": "Origin datasource that produced the timeline event",
        "enum": [
          "PRICE_HISTORY",
          "EPREL"
        ]
      },
      "ProductTimelineEventType": {
        "type": "string",
        "description": "Categorises lifecycle events so the frontend can display contextual labels",
        "enum": [
          "PRICE_FIRST_SEEN_NEW",
          "PRICE_FIRST_SEEN_OCCASION",
          "PRICE_LAST_SEEN_NEW",
          "PRICE_LAST_SEEN_OCCASION",
          "EPREL_ON_MARKET_START",
          "EPREL_ON_MARKET_END",
          "EPREL_ON_MARKET_FIRST_START",
          "EPREL_FIRST_PUBLICATION",
          "EPREL_LAST_PUBLICATION",
          "EPREL_EXPORT",
          "EPREL_IMPORTED",
          "EPREL_ORGANISATION_CLOSED"
        ]
      },
      "ProductVideoDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "Resource URL",
            "example": "https://cdn.example.org/videos/product_abc.mp4"
          },
          "mimeType": {
            "type": "string",
            "description": "Detected MIME type",
            "example": "video/mp4"
          },
          "timeStamp": {
            "type": "integer",
            "format": "int64",
            "description": "Last update timestamp in epoch milliseconds"
          },
          "cacheKey": {
            "type": "string",
            "description": "Cache key used by the media pipeline"
          },
          "evicted": {
            "type": "boolean",
            "description": "Whether the resource has been evicted from the catalogue"
          },
          "processed": {
            "type": "boolean",
            "description": "Whether the resource has been processed"
          },
          "status": {
            "type": "string",
            "description": "Status assigned by the ingestion pipeline",
            "enum": [
              "MD5_CHECKSUM_FAIL",
              "PROTOCOL_EXCEPTION",
              "IO_EXCEPTION",
              "NO_MIME_TYPE",
              "MD5_EXCLUSION",
              "MD5_DUPLICATE",
              "TOO_SMALL",
              "CANNOT_ANALYSE",
              "PERCEPTIV_HASH_FAIL",
              "PDF_PARSING_ERROR"
            ]
          },
          "fileSize": {
            "type": "integer",
            "format": "int64",
            "description": "Size in bytes when known",
            "example": 2048000
          },
          "fileName": {
            "type": "string",
            "description": "File name extracted from the URL",
            "example": "product"
          },
          "extension": {
            "type": "string",
            "description": "File extension",
            "example": "mp4"
          },
          "md5": {
            "type": "string",
            "description": "MD5 checksum when available"
          },
          "resourceType": {
            "type": "string",
            "description": "Resource type",
            "enum": [
              "IMAGE",
              "PDF",
              "UNKNOWN",
              "VIDEO"
            ]
          },
          "group": {
            "type": "integer",
            "format": "int32",
            "description": "Group identifier used to cluster similar resources"
          },
          "datasourceName": {
            "type": "string",
            "description": "Datasource providing the resource",
            "example": "youtube"
          },
          "tags": {
            "type": "array",
            "description": "Tags describing the resource",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "hardTags": {
            "type": "array",
            "description": "Hard tags describing the resource nature",
            "items": {
              "type": "string",
              "enum": [
                "AMAZON_PRIMARY_TAG",
                "AMAZON_VARIANT_TAG",
                "PRIMARY",
                "REPAIRABILITY_SHEET",
                "PRODUCT_SHEET",
                "MANUAL",
                "INFORMATION_SHEET",
                "ENERGY_LABEL",
                "LEAFLET"
              ]
            },
            "uniqueItems": true
          }
        }
      },
      "UploadedLabel": {
        "type": "object",
        "properties": {
          "orderNumber": {
            "type": "integer",
            "format": "int32"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "ProblemDetail": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "format": "uri"
          },
          "title": {
            "type": "string"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "detail": {
            "type": "string"
          },
          "instance": {
            "type": "string",
            "format": "uri"
          },
          "properties": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "GlobalSearchRequestDto": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Free-text query used to search across products.",
            "example": "Fairphone 4"
          }
        }
      },
      "GlobalSearchResponseDto": {
        "type": "object",
        "properties": {
          "verticalGroups": {
            "type": "array",
            "description": "Vertical groups produced by the primary search pass",
            "items": {
              "$ref": "#/components/schemas/GlobalSearchVerticalGroupDto"
            }
          },
          "missingVerticalResults": {
            "type": "array",
            "description": "Semantic results that have no vertical assigned",
            "items": {
              "$ref": "#/components/schemas/GlobalSearchResultDto"
            }
          },
          "verticalCta": {
            "$ref": "#/components/schemas/SearchSuggestCategoryDto",
            "description": "Category suggestion if a strict match is found"
          },
          "semanticDiagnostics": {
            "$ref": "#/components/schemas/SemanticScoreDiagnosticsDto",
            "description": "Semantic score diagnostics when enabled"
          }
        }
      },
      "GlobalSearchResultDto": {
        "type": "object",
        "properties": {
          "product": {
            "$ref": "#/components/schemas/ProductDto",
            "description": "Full product payload returned by the search result"
          },
          "score": {
            "type": "number",
            "format": "double",
            "description": "Pertinence score returned by Elasticsearch",
            "example": 7.42
          }
        }
      },
      "GlobalSearchVerticalGroupDto": {
        "type": "object",
        "properties": {
          "verticalId": {
            "type": "string",
            "description": "Identifier of the vertical associated with the group",
            "example": "smartphones"
          },
          "results": {
            "type": "array",
            "description": "Ordered results belonging to the vertical",
            "items": {
              "$ref": "#/components/schemas/GlobalSearchResultDto"
            }
          }
        }
      },
      "SearchSuggestCategoryDto": {
        "type": "object",
        "properties": {
          "verticalId": {
            "type": "string",
            "description": "Identifier of the matched vertical.",
            "example": "tv"
          },
          "imageSmall": {
            "type": "string",
            "description": "Absolute URL to the small vertical illustration used in suggestion cards.",
            "example": "https://cdn.nudger.fr/images/verticals/tv-100.webp"
          },
          "verticalHomeTitle": {
            "type": "string",
            "description": "Localised title of the vertical home page.",
            "example": "Téléviseurs"
          },
          "verticalHomeUrl": {
            "type": "string",
            "description": "Localised URL slug leading to the vertical home page.",
            "example": "televiseurs"
          }
        }
      },
      "SemanticScoreDiagnosticsDto": {
        "type": "object",
        "properties": {
          "resultCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of semantic hits considered for diagnostics",
            "example": 12
          },
          "topScore": {
            "type": "number",
            "format": "double",
            "description": "Highest semantic score observed",
            "example": 1.42
          },
          "minScore": {
            "type": "number",
            "format": "double",
            "description": "Lowest semantic score observed",
            "example": 0.92
          },
          "avgScore": {
            "type": "number",
            "format": "double",
            "description": "Average semantic score observed",
            "example": 1.03
          },
          "scoreStdDev": {
            "type": "number",
            "format": "double",
            "description": "Standard deviation of semantic scores",
            "example": 0.12
          }
        }
      },
      "FeedbackSubmissionRequestDto": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Category of the feedback to submit.",
            "enum": [
              "IDEA",
              "BUG"
            ],
            "example": "IDEA"
          },
          "title": {
            "type": "string",
            "description": "Short title summarising the feedback.",
            "example": "Ajouter un filtre par prix",
            "maxLength": 255,
            "minLength": 0
          },
          "message": {
            "type": "string",
            "description": "Detailed message explaining the bug or idea.",
            "example": "Il serait pratique de pouvoir filtrer les offres par prix maximum.",
            "maxLength": 5000,
            "minLength": 0
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "URL depuis laquelle l'utilisateur a soumis le feedback.",
            "example": "https://nudger.fr/produits/1234",
            "maxLength": 2048,
            "minLength": 0
          },
          "author": {
            "type": "string",
            "description": "Nom affiché pour l'auteur du feedback.",
            "example": "Jean Dupont",
            "maxLength": 255,
            "minLength": 0
          },
          "h-captcha-response": {
            "type": "string",
            "description": "Jeton retourné par le widget hCaptcha.",
            "example": "10000000-aaaa-bbbb-cccc-000000000001",
            "minLength": 1
          }
        },
        "required": [
          "h-captcha-response",
          "message",
          "title",
          "type"
        ]
      },
      "FeedbackSubmissionResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indique si le ticket GitHub a été créé avec succès.",
            "example": true
          },
          "issueNumber": {
            "type": "integer",
            "format": "int32",
            "description": "Numéro GitHub de l'issue créée.",
            "example": 128
          },
          "issueUrl": {
            "type": "string",
            "format": "uri",
            "description": "URL publique de l'issue GitHub.",
            "example": "https://github.com/open4good/open4goods/issues/128"
          },
          "message": {
            "type": "string",
            "description": "Message informatif pour l'utilisateur.",
            "example": "Merci pour votre retour !"
          }
        }
      },
      "FeedbackVoteResponseDto": {
        "type": "object",
        "properties": {
          "remainingVotes": {
            "type": "integer",
            "format": "int32",
            "description": "Nombre de votes restants pour l'adresse IP courante.",
            "example": 3
          },
          "totalVotes": {
            "type": "integer",
            "format": "int32",
            "description": "Nombre total de votes enregistrés pour l'issue.",
            "example": 15
          }
        }
      },
      "FeedbackErrorResponseDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "Message décrivant la raison de l'erreur.",
            "example": "Le captcha est invalide."
          }
        }
      },
      "ContactRequestDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Full name of the person submitting the form.",
            "example": "Jean Dupont",
            "maxLength": 255,
            "minLength": 0
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address of the sender.",
            "example": "jean.dupont@example.com",
            "minLength": 1
          },
          "message": {
            "type": "string",
            "description": "Message written by the sender.",
            "example": "Bonjour, j'aimerais en savoir plus sur vos actions.",
            "maxLength": 5000,
            "minLength": 0
          },
          "h-captcha-response": {
            "type": "string",
            "description": "Token returned by the hCaptcha widget.",
            "example": "10000000-aaaa-bbbb-cccc-000000000001",
            "minLength": 1
          },
          "templateId": {
            "type": "string",
            "description": "Identifier of the mail template to use for composing the email.",
            "example": "agent-question"
          },
          "subject": {
            "type": "string",
            "description": "Optional subject override when the template is not available.",
            "example": "[Agent] Nouvelle demande"
          },
          "sourceRoute": {
            "type": "string",
            "description": "Frontend route from which the request originates.",
            "example": "/prompt"
          },
          "sourceComponent": {
            "type": "string",
            "description": "Component or page identifier initiating the request.",
            "example": "AgentPromptInput"
          },
          "sourcePage": {
            "type": "string",
            "description": "Human readable page title that initiated the request.",
            "example": "Espace Agents IA"
          }
        },
        "required": [
          "email",
          "h-captcha-response",
          "message",
          "name"
        ]
      },
      "ContactResponseDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the submission has been processed successfully.",
            "example": true
          }
        }
      },
      "AuthTokensDto": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "JWT access token minted for the requested domainLanguage (localisation pending)."
          },
          "refreshToken": {
            "type": "string",
            "description": "JWT refresh token minted for the requested domainLanguage (localisation pending)."
          }
        }
      },
      "LogoutResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the logout request succeeded."
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string",
            "description": "XWiki username",
            "example": "john"
          },
          "password": {
            "type": "string",
            "description": "XWiki password",
            "example": "secret"
          }
        }
      },
      "Member": {
        "type": "object",
        "description": "Team member profile entry.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Full name of the team member.",
            "example": "Goulven Furet"
          },
          "linkedInUrl": {
            "type": "string",
            "description": "LinkedIn profile URL of the member.",
            "example": "https://www.linkedin.com/in/example/"
          },
          "imageUrl": {
            "type": "string",
            "description": "Relative URL for the member portrait.",
            "example": "/assets/img/team/Goulven.jpeg"
          },
          "blocId": {
            "type": "string",
            "description": "XWiki bloc identifier providing the member biography.",
            "example": "pages:team:goulven-furet:"
          }
        }
      },
      "TeamProperties": {
        "type": "object",
        "properties": {
          "cores": {
            "type": "array",
            "description": "Core eco-nudger team members.",
            "items": {
              "$ref": "#/components/schemas/Member"
            }
          },
          "contributors": {
            "type": "array",
            "description": "Extended contributors supporting the core team.",
            "items": {
              "$ref": "#/components/schemas/Member"
            }
          }
        },
        "required": [
          "contributors",
          "cores"
        ]
      },
      "CategoriesStatsDto": {
        "type": "object",
        "properties": {
          "enabledVerticalConfigs": {
            "type": "integer",
            "format": "int32",
            "description": "Total number of enabled vertical configurations (language agnostic but returned alongside domainLanguage).",
            "example": 42
          },
          "affiliationPartnersCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of affiliation partners available for price comparison.",
            "example": 18
          },
          "gtinOpenDataItemsCount": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of GTIN items available in the OpenData exports.",
            "example": 1250000
          },
          "isbnOpenDataItemsCount": {
            "type": "integer",
            "format": "int64",
            "description": "Total number of ISBN items available in the OpenData exports.",
            "example": 870000
          },
          "productsCountByCategory": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            },
            "description": "Per-category product counts for recent products with offers, keyed by vertical id.",
            "example": {
              "electronics": 12000,
              "appliances": 8500
            }
          },
          "productsCountSum": {
            "type": "integer",
            "format": "int64",
            "description": "Sum of product counts across enabled categories.",
            "example": 20500
          }
        }
      },
      "CategoriesScoresStatsDto": {
        "type": "object",
        "properties": {
          "scoresByCategory": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "additionalProperties": {
                "$ref": "#/components/schemas/CategoryScoreCardinalitiesDto"
              }
            },
            "description": "Per-category score cardinalities, keyed by vertical id and score name."
          }
        }
      },
      "CategoryScoreCardinalitiesDto": {
        "type": "object",
        "properties": {
          "absolute": {
            "$ref": "#/components/schemas/ScoreCardinalityDto",
            "description": "Absolute cardinality statistics"
          },
          "relativ": {
            "$ref": "#/components/schemas/ScoreCardinalityDto",
            "description": "Relative cardinality statistics"
          }
        }
      },
      "ScoreCardinalityDto": {
        "type": "object",
        "properties": {
          "min": {
            "type": "number",
            "format": "double",
            "description": "Minimal value encountered"
          },
          "max": {
            "type": "number",
            "format": "double",
            "description": "Maximal value encountered"
          },
          "avg": {
            "type": "number",
            "format": "double",
            "description": "Average value across the population"
          },
          "count": {
            "type": "integer",
            "format": "int32",
            "description": "Number of elements composing the population"
          },
          "sum": {
            "type": "number",
            "format": "double",
            "description": "Sum of the values"
          },
          "stdDev": {
            "type": "number",
            "format": "double",
            "description": "Standard deviation σ of the distribution (variance = σ²)"
          }
        }
      },
      "CategoriesScoreStatsDto": {
        "type": "object",
        "properties": {
          "scoreName": {
            "type": "string",
            "description": "Score name used to compute the statistics",
            "example": "ECOSCORE"
          },
          "scoresByCategory": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/CategoryScoreCardinalitiesDto"
            },
            "description": "Per-category cardinalities for the requested score, keyed by vertical id."
          }
        }
      },
      "IpQuotaCategory": {
        "type": "string",
        "enum": [
          "FEEDBACK_VOTE",
          "REVIEW_GENERATION",
          "CONTACT_MESSAGE"
        ]
      },
      "IpQuotaStatusDto": {
        "type": "object",
        "properties": {
          "category": {
            "$ref": "#/components/schemas/IpQuotaCategory",
            "description": "Category associated with the quota.",
            "example": "FEEDBACK_VOTE"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum number of actions allowed per quota window.",
            "example": 5
          },
          "used": {
            "type": "integer",
            "format": "int32",
            "description": "Number of actions already performed within the window.",
            "example": 2
          },
          "remaining": {
            "type": "integer",
            "format": "int32",
            "description": "Number of actions remaining within the window.",
            "example": 3
          },
          "windowSeconds": {
            "type": "integer",
            "format": "int64",
            "description": "Quota window duration in seconds.",
            "example": 86400
          }
        }
      },
      "AiAttribute": {
        "type": "object",
        "description": "Product attribute derived from review",
        "properties": {
          "name": {
            "type": "string",
            "description": "Attribute name"
          },
          "value": {
            "type": "string",
            "description": "Attribute value"
          },
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Reference source number"
          }
        },
        "required": [
          "name",
          "number",
          "value"
        ]
      },
      "AiRating": {
        "type": "object",
        "description": "Rating found in a source",
        "properties": {
          "source": {
            "type": "string",
            "description": "Source providing the rating"
          },
          "score": {
            "type": "string",
            "description": "The score value"
          },
          "max": {
            "type": "string",
            "description": "The maximum possible score"
          },
          "comment": {
            "type": "string",
            "description": "Short comment associated with the rating"
          },
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Reference source number"
          }
        },
        "required": [
          "comment",
          "max",
          "number",
          "score",
          "source"
        ]
      },
      "AiReview": {
        "type": "object",
        "description": "Represents an AI-generated review of a product, including descriptions, pros and cons, data quality assessment, and sourced information.",
        "properties": {
          "description": {
            "type": "string",
            "description": "Detailed description of the product"
          },
          "technicalOneline": {
            "type": "string",
            "description": "One-line technical summary"
          },
          "technicalShortReview": {
            "type": "string",
            "description": "Short technical summary of the product"
          },
          "ecologicalOneline": {
            "type": "string",
            "description": "One-line ecological summary"
          },
          "communityOneline": {
            "type": "string",
            "description": "One-line community summary"
          },
          "short_description": {
            "type": "string",
            "description": "Brief summary of the product"
          },
          "mediumTitle": {
            "type": "string",
            "description": "Medium-length title"
          },
          "shortTitle": {
            "type": "string",
            "description": "Short title"
          },
          "baseLine": {
            "type": "string",
            "description": "Ultra-synthetic baseline under the title"
          },
          "manufacturingCountry": {
            "type": "string",
            "description": "Probable manufacturing countries of this product"
          },
          "technicalReviewNovice": {
            "type": "string",
            "description": "Technical review (novice)"
          },
          "technicalReviewIntermediate": {
            "type": "string",
            "description": "Technical review (intermediate)"
          },
          "technicalReviewAdvanced": {
            "type": "string",
            "description": "Technical review (advanced)"
          },
          "ecologicalReviewNovice": {
            "type": "string",
            "description": "Ecological review (novice)"
          },
          "ecologicalReviewIntermediate": {
            "type": "string",
            "description": "Ecological review (intermediate)"
          },
          "ecologicalReviewAdvanced": {
            "type": "string",
            "description": "Ecological review (advanced)"
          },
          "communityReviewNovice": {
            "type": "string",
            "description": "Community review (novice)"
          },
          "communityReviewIntermediate": {
            "type": "string",
            "description": "Community review (intermediate)"
          },
          "communityReviewAdvanced": {
            "type": "string",
            "description": "Community review (advanced)"
          },
          "summary": {
            "type": "string",
            "description": "Summary of the product review"
          },
          "pros": {
            "type": "array",
            "description": "List of pros",
            "items": {
              "type": "string"
            }
          },
          "cons": {
            "type": "array",
            "description": "List of cons",
            "items": {
              "type": "string"
            }
          },
          "sources": {
            "type": "array",
            "description": "List of sources used for the review",
            "items": {
              "$ref": "#/components/schemas/AiSource"
            }
          },
          "attributes": {
            "type": "array",
            "description": "List of product attributes",
            "items": {
              "$ref": "#/components/schemas/AiAttribute"
            }
          },
          "dataQuality": {
            "type": "string",
            "description": "Quality of external data used for the review"
          },
          "ratings": {
            "type": "array",
            "description": "List of ratings found in sources",
            "items": {
              "$ref": "#/components/schemas/AiRating"
            }
          },
          "pdfs": {
            "type": "array",
            "description": "List of PDF's url's for this product",
            "items": {
              "type": "string"
            }
          },
          "images": {
            "type": "array",
            "description": "List of quality images url's for this product",
            "items": {
              "type": "string"
            }
          },
          "videos": {
            "type": "array",
            "description": "List of product related videos",
            "items": {
              "type": "string"
            }
          },
          "social": {
            "type": "array",
            "description": "List of social networks references",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "attributes",
          "baseLine",
          "communityOneline",
          "communityReviewAdvanced",
          "communityReviewIntermediate",
          "communityReviewNovice",
          "cons",
          "dataQuality",
          "description",
          "ecologicalOneline",
          "ecologicalReviewAdvanced",
          "ecologicalReviewIntermediate",
          "ecologicalReviewNovice",
          "manufacturingCountry",
          "mediumTitle",
          "pros",
          "shortTitle",
          "short_description",
          "sources",
          "summary",
          "technicalOneline",
          "technicalReviewAdvanced",
          "technicalReviewIntermediate",
          "technicalReviewNovice",
          "technicalShortReview"
        ]
      },
      "AiReviewHolder": {
        "type": "object",
        "description": "Holder for AI generated review and metadata",
        "properties": {
          "review": {
            "$ref": "#/components/schemas/AiReview",
            "description": "The generated review"
          },
          "sources": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            },
            "description": "Map of source URLs to estimated token counts"
          },
          "enoughData": {
            "type": "boolean",
            "description": "True if enough data was available to generate review"
          },
          "totalTokens": {
            "type": "integer",
            "format": "int32",
            "description": "Total tokens used for generation"
          },
          "createdMs": {
            "type": "integer",
            "format": "int64",
            "description": "Creation timestamp in epoch milliseconds"
          }
        }
      },
      "AiSource": {
        "type": "object",
        "description": "Source information for the review",
        "properties": {
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Source number"
          },
          "name": {
            "type": "string",
            "description": "Source name"
          },
          "description": {
            "type": "string",
            "description": "Source description"
          },
          "url": {
            "type": "string",
            "description": "Source URL"
          }
        },
        "required": [
          "description",
          "name",
          "number",
          "url"
        ]
      },
      "ReviewGenerationEvent": {
        "type": "object",
        "description": "Event entry representing a progress update",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of the progress event",
            "enum": [
              "STARTED",
              "SEARCHING",
              "STREAM_CHUNK",
              "COMPLETED",
              "ERROR"
            ]
          },
          "message": {
            "type": "string",
            "description": "Message associated with the event"
          },
          "chunk": {
            "type": "string",
            "description": "Streamed content chunk, if any"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64",
            "description": "Timestamp of the event in epoch milliseconds"
          }
        }
      },
      "ReviewGenerationStatus": {
        "type": "object",
        "description": "Status of a review generation process",
        "properties": {
          "upc": {
            "type": "integer",
            "format": "int64",
            "description": "UPC/GTIN of the product"
          },
          "status": {
            "type": "string",
            "description": "Current status of the process",
            "enum": [
              "PENDING",
              "QUEUED",
              "SEARCHING",
              "FETCHING",
              "ANALYSING",
              "SUCCESS",
              "PREPROCESSING",
              "ALREADY_PROCESSED",
              "FAILED"
            ]
          },
          "startTime": {
            "type": "integer",
            "format": "int64",
            "description": "Start time in epoch milliseconds"
          },
          "endTime": {
            "type": "integer",
            "format": "int64",
            "description": "End time in epoch milliseconds"
          },
          "result": {
            "$ref": "#/components/schemas/AiReviewHolder",
            "description": "Resulting AI review, present if successful"
          },
          "errorMessage": {
            "type": "string",
            "description": "Error message, present if failed"
          },
          "percent": {
            "type": "integer",
            "format": "int32",
            "description": "Progress percentage"
          },
          "messages": {
            "type": "array",
            "description": "List of processing messages tracking internal state",
            "items": {
              "type": "string"
            }
          },
          "events": {
            "type": "array",
            "description": "List of progress events emitted during streaming",
            "items": {
              "$ref": "#/components/schemas/ReviewGenerationEvent"
            }
          },
          "duration": {
            "type": "integer",
            "format": "int64",
            "description": "Duration of the process in milliseconds"
          },
          "remaining": {
            "type": "integer",
            "format": "int64",
            "description": "Estimated remaining time in milliseconds"
          },
          "gtin": {
            "type": "string",
            "description": "The product GTIN associated with the generation request"
          }
        }
      },
      "SearchSuggestProductDto": {
        "type": "object",
        "properties": {
          "model": {
            "type": "string",
            "description": "Model extracted from referential attributes.",
            "example": "QE55QN90A"
          },
          "brand": {
            "type": "string",
            "description": "Brand extracted from referential attributes.",
            "example": "Samsung"
          },
          "gtin": {
            "type": "string",
            "description": "GTIN associated with the product when available.",
            "example": 8806092074061
          },
          "coverImagePath": {
            "type": "string",
            "description": "Absolute path to the cover image of the product if any.",
            "example": "https://cdn.nudger.fr/images/products/8806092074061.webp"
          },
          "verticalId": {
            "type": "string",
            "description": "Identifier of the vertical owning the product.",
            "example": "tv"
          },
          "ecoscoreValue": {
            "type": "number",
            "format": "double",
            "description": "Eco-score value computed for the product when available.",
            "example": 72.5
          },
          "bestPrice": {
            "type": "number",
            "format": "double",
            "description": "Best price available for the product when indexed.",
            "example": 429.99
          },
          "bestPriceCurrency": {
            "type": "string",
            "description": "Currency associated with the best price when available.",
            "enum": [
              "EUR",
              "USD",
              "CNY"
            ],
            "example": "EUR"
          },
          "score": {
            "type": "number",
            "format": "double",
            "description": "Native Elasticsearch score associated with the hit.",
            "example": 1.85
          },
          "prettyName": {
            "type": "string",
            "description": "Pretty name of the product.",
            "example": "Samsung TV 55 inches"
          }
        }
      },
      "SearchSuggestResponseDto": {
        "type": "object",
        "properties": {
          "categoryMatches": {
            "type": "array",
            "description": "Category matches resolved from the in-memory vertical index.",
            "items": {
              "$ref": "#/components/schemas/SearchSuggestCategoryDto",
              "description": "Category matches resolved from the in-memory vertical index."
            }
          },
          "productMatches": {
            "type": "array",
            "description": "Product matches obtained from the classical Elasticsearch search.",
            "items": {
              "$ref": "#/components/schemas/SearchSuggestProductDto",
              "description": "Product matches obtained from the classical Elasticsearch search."
            }
          }
        }
      },
      "AggregationMetadata": {
        "type": "object",
        "properties": {
          "buckets": {
            "type": "integer",
            "format": "int32",
            "description": "Preferred number of buckets when building histogram aggregations.",
            "example": 10
          },
          "interval": {
            "type": "number",
            "format": "double",
            "description": "Preferred interval size for numeric range aggregations.",
            "example": 5.0
          }
        }
      },
      "FieldMetadataDto": {
        "type": "object",
        "properties": {
          "mapping": {
            "type": "string",
            "description": "Path of the field in the product document acting as its identifier.",
            "example": "price.minPrice.price"
          },
          "title": {
            "type": "string",
            "description": "Localised display name for the field when available.",
            "example": "Prix minimum"
          },
          "description": {
            "type": "string",
            "description": "Localised description for the field when available.",
            "example": "Prix minimum observé pour le produit"
          },
          "valueType": {
            "type": "string",
            "description": "Type of values accepted by the field.",
            "enum": [
              "text",
              "numeric"
            ],
            "example": "numeric"
          },
          "aggregationConfiguration": {
            "$ref": "#/components/schemas/AggregationMetadata",
            "description": "Preferred aggregation behaviour when available."
          }
        }
      },
      "ProductFieldOptionsResponse": {
        "type": "object",
        "description": "Product fields available for filtering or sorting, split by scope.",
        "properties": {
          "global": {
            "type": "array",
            "description": "Fields that are always available regardless of the vertical.",
            "items": {
              "$ref": "#/components/schemas/FieldMetadataDto",
              "description": "Fields that are always available regardless of the vertical."
            }
          },
          "impact": {
            "type": "array",
            "description": "Fields relating to ecological impact scores only.",
            "items": {
              "$ref": "#/components/schemas/FieldMetadataDto",
              "description": "Fields relating to ecological impact scores only."
            }
          },
          "technical": {
            "type": "array",
            "description": "Fields exposing technical attributes available for the vertical.",
            "items": {
              "$ref": "#/components/schemas/FieldMetadataDto",
              "description": "Fields exposing technical attributes available for the vertical."
            }
          }
        }
      },
      "StaticPartnerDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Display name of the partner.",
            "example": "French Tech Ouest"
          },
          "blocId": {
            "type": "string",
            "description": "XWiki bloc identifier containing the partner content.",
            "example": "pages:ecosystem:french-tech"
          },
          "url": {
            "type": "string",
            "description": "Public URL pointing to the partner website.",
            "example": "https://www.ft-brestbretagneouest.bzh/"
          },
          "imageUrl": {
            "type": "string",
            "description": "Relative path to the partner image served by the frontend.",
            "example": "/images/ecosystem/frenchTech.jpeg"
          }
        }
      },
      "AffiliationPartnerDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Stable identifier of the partner.",
            "example": "leroy-merlin"
          },
          "name": {
            "type": "string",
            "description": "Human readable partner name.",
            "example": "Leroy Merlin"
          },
          "affiliationLink": {
            "type": "string",
            "description": "Landing page URL used for affiliation redirection.",
            "example": "https://track.example.com/redirect"
          },
          "portalUrl": {
            "type": "string",
            "description": "Public portal URL of the partner.",
            "example": "https://www.leroymerlin.fr"
          },
          "logoUrl": {
            "type": "string",
            "format": "uri",
            "description": "Computed logo URL served by the front API.",
            "example": "https://cdn.open4goods.org/logo/Leroy Merlin"
          },
          "faviconUrl": {
            "type": "string",
            "format": "uri",
            "description": "Computed favicon URL served by the front API.",
            "example": "https://cdn.open4goods.org/favicon?url=Leroy Merlin"
          },
          "countryCodes": {
            "type": "array",
            "description": "ISO 3166-1 alpha-2 country codes where the partner operates.",
            "example": [
              "FR",
              "BE"
            ],
            "items": {
              "type": "string"
            }
          }
        }
      },
      "FullPageDto": {
        "type": "object",
        "properties": {
          "htmlContent": {
            "type": "string",
            "description": "Rendered HTML content of the page."
          },
          "id": {
            "type": "string",
            "description": "Technical identifier of the XWiki document.",
            "example": "xwiki:webpages.default.legal-notice.WebHome"
          },
          "fullName": {
            "type": "string",
            "description": "Fully qualified document name.",
            "example": "webpages.default.legal-notice.WebHome"
          },
          "wiki": {
            "type": "string",
            "description": "Wiki identifier hosting the page.",
            "example": "xwiki"
          },
          "space": {
            "type": "string",
            "description": "Hierarchical space containing the document.",
            "example": "webpages.default.legal-notice"
          },
          "name": {
            "type": "string",
            "description": "Document local name.",
            "example": "WebHome"
          },
          "title": {
            "type": "string",
            "description": "Current display title of the page.",
            "example": "legal-notice"
          },
          "rawTitle": {
            "type": "string",
            "description": "Raw title before localisation or processing.",
            "example": "legal-notice"
          },
          "parent": {
            "type": "string",
            "description": "Identifier of the parent document.",
            "example": "xwiki:webpages.default.legal-notice.WebHome"
          },
          "parentId": {
            "type": "string",
            "description": "Identifier of the parent document without wiki prefix.",
            "example": "xwiki:webpages.default.legal-notice.WebHome"
          },
          "version": {
            "type": "string",
            "description": "Human readable version string.",
            "example": 2.1
          },
          "author": {
            "type": "string",
            "description": "Technical author reference.",
            "example": "XWiki.Goulven"
          },
          "authorName": {
            "type": "string",
            "description": "Display name of the author."
          },
          "xwikiRelativeUrl": {
            "type": "string",
            "format": "uri",
            "description": "Relative URL to the page rendered by XWiki.",
            "example": "https://wiki.nudger.fr/bin/view/webpages/default/legal-notice/"
          },
          "xwikiAbsoluteUrl": {
            "type": "string",
            "format": "uri",
            "description": "Absolute URL to the page rendered by XWiki.",
            "example": "https://wiki.nudger.fr/bin/view/webpages/default/legal-notice/"
          },
          "syntax": {
            "type": "string",
            "description": "Syntax used to author the page content.",
            "example": "xwiki/2.1"
          },
          "language": {
            "type": "string",
            "description": "Current language of the document.",
            "example": "fr"
          },
          "majorVersion": {
            "type": "integer",
            "format": "int32",
            "description": "Major version number.",
            "example": 2
          },
          "minorVersion": {
            "type": "integer",
            "format": "int32",
            "description": "Minor version number.",
            "example": 1
          },
          "hidden": {
            "type": "boolean",
            "description": "Whether the page is hidden from listings.",
            "example": false
          },
          "created": {
            "type": "string",
            "format": "date-time",
            "description": "ISO timestamp representing document creation date.",
            "example": "2024-08-08T13:13:55.000+00:00"
          },
          "creator": {
            "type": "string",
            "description": "Technical reference of the page creator.",
            "example": "XWiki.o4g"
          },
          "creatorName": {
            "type": "string",
            "description": "Display name of the page creator."
          },
          "modified": {
            "type": "string",
            "format": "date-time",
            "description": "ISO timestamp representing the last modification date.",
            "example": "2024-08-08T13:13:55.000+00:00"
          },
          "modifier": {
            "type": "string",
            "description": "Technical reference of the last modifier.",
            "example": "XWiki.o4g"
          },
          "modifierName": {
            "type": "string",
            "description": "Display name of the last modifier."
          },
          "originalMetadataAuthor": {
            "type": "string",
            "description": "Technical reference that provided the original metadata.",
            "example": "xwiki:XWiki.Goulven"
          },
          "originalMetadataAuthorName": {
            "type": "string",
            "description": "Display name for the original metadata author."
          },
          "layout": {
            "type": "string",
            "description": "CMS specific layout identifier.",
            "example": "layout3"
          },
          "pageTitle": {
            "type": "string",
            "description": "Preferred title to display on the frontend.",
            "example": "Les mentions légales et les CGU de Nudger"
          },
          "metaTitle": {
            "type": "string",
            "description": "SEO meta title.",
            "example": "Mentions légales | Nudger"
          },
          "width": {
            "type": "string",
            "description": "Layout width directive.",
            "enum": [
              "container",
              "container-fluid",
              "container-semi-fluid"
            ],
            "example": "container-semi-fluid"
          },
          "metaDescription": {
            "type": "string",
            "description": "SEO meta description.",
            "example": "Les mentions légales de Nudger"
          },
          "editLink": {
            "type": "string",
            "format": "uri",
            "description": "Direct edit link for the page in XWiki.",
            "example": "https://wiki.nudger.fr/bin/edit/webpages/default/legal-notice/WebHome"
          }
        }
      },
      "OpenDataDownloadLimitsDto": {
        "type": "object",
        "description": "Download limits applied to OpenData dataset transfers.",
        "properties": {
          "downloadSpeedKb": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum download speed per client expressed in kilobytes per second.",
            "example": 256
          },
          "downloadSpeed": {
            "type": "string",
            "description": "Human readable download speed formatted according to the requested locale.",
            "example": "256 kB/s"
          },
          "concurrentDownloads": {
            "type": "integer",
            "format": "int32",
            "description": "Maximum number of concurrent downloads accepted by the platform.",
            "example": 4
          }
        }
      },
      "OpenDataOverviewDto": {
        "type": "object",
        "description": "Aggregated information describing the full OpenData catalogue.",
        "properties": {
          "totalProductCount": {
            "type": "string",
            "description": "Total number of products covered by all datasets, formatted using the requested locale.",
            "example": "12 345"
          },
          "datasetCount": {
            "type": "string",
            "description": "Number of datasets available for download, formatted using the requested locale.",
            "example": 2
          },
          "totalDatasetSize": {
            "type": "string",
            "description": "Human readable size of all datasets combined, formatted using the requested locale.",
            "example": "1,5 GB"
          },
          "downloadLimits": {
            "$ref": "#/components/schemas/OpenDataDownloadLimitsDto",
            "description": "Download restrictions applied when fetching the datasets."
          }
        }
      },
      "OpenDataDatasetDto": {
        "type": "object",
        "description": "Detailed description of a single OpenData dataset.",
        "properties": {
          "type": {
            "type": "string",
            "description": "Identifier of the dataset.",
            "enum": [
              "GTIN",
              "ISBN"
            ],
            "example": "GTIN"
          },
          "recordCount": {
            "type": "string",
            "description": "Number of rows in the dataset formatted using the requested locale.",
            "example": "150 000"
          },
          "recordCountValue": {
            "type": "integer",
            "format": "int64",
            "description": "Raw number of rows in the dataset.",
            "example": 1500000
          },
          "lastUpdated": {
            "type": "string",
            "description": "Last update timestamp formatted using the requested locale.",
            "example": 12
          },
          "fileSize": {
            "type": "string",
            "description": "Human readable size of the dataset formatted using the requested locale.",
            "example": "512 MB"
          },
          "downloadUrl": {
            "type": "string",
            "format": "uri",
            "description": "Absolute URL that can be used to download the dataset.",
            "example": "https://nudger.fr/opendata/gtin-open-data.zip"
          },
          "headers": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Column header available in the dataset.",
              "example": "gtin"
            }
          }
        }
      },
      "FeedbackRemainingVotesDto": {
        "type": "object",
        "properties": {
          "remainingVotes": {
            "type": "integer",
            "format": "int32",
            "description": "Nombre de votes restants pour aujourd'hui.",
            "example": 4
          }
        }
      },
      "FeedbackVoteEligibilityDto": {
        "type": "object",
        "properties": {
          "canVote": {
            "type": "boolean",
            "description": "Vrai si l'utilisateur peut encore voter aujourd'hui.",
            "example": true
          }
        }
      },
      "FeedbackIssueDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Identifiant technique de l'issue (valeur GitHub).",
            "example": 128
          },
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Numéro séquentiel de l'issue sur GitHub.",
            "example": 128
          },
          "title": {
            "type": "string",
            "description": "Titre de l'issue.",
            "example": "Ajouter un filtre par prix"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Lien public vers l'issue GitHub.",
            "example": "https://github.com/open4good/open4goods/issues/128"
          },
          "votes": {
            "type": "integer",
            "format": "int32",
            "description": "Nombre total de votes enregistrés pour cette issue.",
            "example": 12
          }
        }
      },
      "ExposedDocsCategoryDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the category",
            "example": "docs"
          },
          "label": {
            "type": "string",
            "description": "Human-friendly label",
            "example": "Documentation"
          },
          "endpoint": {
            "type": "string",
            "description": "Endpoint path for the category",
            "example": "/exposed/docs"
          },
          "classpathRoot": {
            "type": "string",
            "description": "Classpath root where resources are scanned",
            "example": "docs"
          },
          "extensions": {
            "type": "array",
            "description": "File extensions included in the category",
            "example": [
              "md",
              "yml"
            ],
            "items": {
              "type": "string"
            }
          },
          "resourceCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of resources indexed",
            "example": 42
          }
        }
      },
      "ExposedDocsOverviewDto": {
        "type": "object",
        "properties": {
          "categories": {
            "type": "array",
            "description": "Available resource categories",
            "items": {
              "$ref": "#/components/schemas/ExposedDocsCategoryDto"
            }
          }
        }
      },
      "ExposedDocsTreeNodeDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Display name of the node",
            "example": "README.md"
          },
          "path": {
            "type": "string",
            "description": "Path relative to the category root",
            "example": "docs/README.md"
          },
          "directory": {
            "type": "boolean",
            "description": "True when the node represents a directory",
            "example": false
          },
          "children": {
            "type": "array",
            "description": "Child nodes, empty for leaf nodes",
            "items": {
              "$ref": "#/components/schemas/ExposedDocsTreeNodeDto"
            }
          }
        }
      },
      "ExposedDocsContentDto": {
        "type": "object",
        "properties": {
          "categoryId": {
            "type": "string",
            "description": "Category identifier",
            "example": "docs"
          },
          "path": {
            "type": "string",
            "description": "Path of the resource",
            "example": "docs/README.md"
          },
          "extension": {
            "type": "string",
            "description": "File extension",
            "example": "md"
          },
          "content": {
            "type": "string",
            "description": "Raw file content",
            "example": "# Documentation"
          },
          "lastModified": {
            "type": "string",
            "format": "date-time",
            "description": "Last modified timestamp"
          }
        }
      },
      "ExposedDocsSearchResultDto": {
        "type": "object",
        "properties": {
          "categoryId": {
            "type": "string",
            "description": "Category identifier",
            "example": "prompts"
          },
          "path": {
            "type": "string",
            "description": "Path of the resource",
            "example": "prompts/summary.prompt"
          },
          "filename": {
            "type": "string",
            "description": "File name",
            "example": "summary.prompt"
          },
          "extension": {
            "type": "string",
            "description": "File extension",
            "example": "prompt"
          },
          "contentMatched": {
            "type": "boolean",
            "description": "True when the match was found in content",
            "example": true
          },
          "content": {
            "type": "string",
            "description": "Raw file content when requested"
          },
          "lastModified": {
            "type": "string",
            "format": "date-time",
            "description": "Last modified timestamp"
          }
        }
      },
      "CommercialEvent": {
        "type": "object",
        "description": "Commercial event highlighted on the eco-nudger calendar.",
        "properties": {
          "label": {
            "type": "string",
            "description": "Localised event label.",
            "example": "Black Friday"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "description": "Inclusive event start date.",
            "example": "2025-11-28"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "description": "Inclusive event end date.",
            "example": "2025-11-29"
          }
        }
      },
      "AttributeConfigDto": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Unique key identifying the attribute.",
            "example": "WEIGHT"
          },
          "icon": {
            "type": "string",
            "description": "Icon associated with the attribute.",
            "example": "fa-weight-hanging"
          },
          "unit": {
            "type": "string",
            "description": "Localised unit displayed for this attribute.",
            "example": "kg"
          },
          "suffix": {
            "type": "string",
            "description": "Localised suffix appended to the attribute value for compact rendering.",
            "example": "\""
          },
          "name": {
            "type": "string",
            "description": "Localised display name for this attribute.",
            "example": "Poids"
          },
          "filteringType": {
            "type": "string",
            "description": "Type of filtering applied for this attribute.",
            "enum": [
              "BOOLEAN",
              "NUMERIC",
              "TEXT"
            ]
          },
          "icecatFeaturesIds": {
            "type": "array",
            "description": "Identifiers of the Icecat features mapped to this attribute.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "asScore": {
            "type": "boolean",
            "description": "Indicates whether this attribute is exposed as a score."
          },
          "scoreTitle": {
            "type": "string",
            "description": "Localised label used when the attribute is rendered as a score."
          },
          "scoreDescription": {
            "type": "string",
            "description": "Localised description of what the score represents."
          },
          "scoreUtility": {
            "type": "string",
            "description": "Localised explanation of why this score is important."
          },
          "participateInScores": {
            "type": "array",
            "description": "Composite scores in which this attribute participates.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "participateInACV": {
            "type": "array",
            "description": "Lifecycle stages (ACV) represented by this score.",
            "items": {
              "type": "string",
              "enum": [
                "EXTRACTION",
                "MANUFACTURING",
                "TRANSPORTATION",
                "USE",
                "END_OF_LIFE"
              ]
            },
            "uniqueItems": true
          },
          "userBetterIs": {
            "type": "string",
            "description": "Comparison rule applied for user-facing explanations.",
            "enum": [
              "GREATER",
              "LOWER"
            ]
          },
          "impactBetterIs": {
            "type": "string",
            "description": "Comparison rule applied for impact scoring.",
            "enum": [
              "GREATER",
              "LOWER"
            ]
          },
          "scoring": {
            "$ref": "#/components/schemas/ScoreScoringConfigDto",
            "description": "Scoring configuration used for this attribute."
          },
          "attributeValuesOrdering": {
            "type": "string",
            "description": "Ordering applied when displaying attribute values.",
            "enum": [
              "ALPHA",
              "COUNT",
              "MAPPED"
            ]
          },
          "attributeValuesReverseOrder": {
            "type": "boolean",
            "description": "When true, the attribute values ordering is reversed."
          },
          "synonyms": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "uniqueItems": true
            },
            "description": "Attribute synonyms keyed by datasource name."
          },
          "parser": {
            "$ref": "#/components/schemas/AttributeParserConfig",
            "description": "Custom parser configuration used to normalize attribute values."
          },
          "numericMapping": {
            "type": "object",
            "additionalProperties": {
              "type": "number",
              "format": "double"
            },
            "description": "Mapping used to convert textual values to numerics when relevant."
          },
          "mappings": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Static replacements applied to attribute values."
          }
        }
      },
      "AttributeParserConfig": {
        "type": "object",
        "properties": {
          "normalize": {
            "type": "boolean"
          },
          "trim": {
            "type": "boolean"
          },
          "lowerCase": {
            "type": "boolean"
          },
          "upperCase": {
            "type": "boolean"
          },
          "clazz": {
            "type": "string"
          },
          "removeParenthesis": {
            "type": "boolean"
          },
          "deleteTokens": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "tokenMatch": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "NudgeToolConfigDto": {
        "type": "object",
        "properties": {
          "scores": {
            "type": "array",
            "description": "List of scores highlighted by the nudge tool.",
            "items": {
              "$ref": "#/components/schemas/NudgeToolScoreDto"
            }
          },
          "subsets": {
            "type": "array",
            "description": "Subsets reused by the nudge tool.",
            "items": {
              "$ref": "#/components/schemas/VerticalSubsetDto"
            }
          },
          "subsetGroups": {
            "type": "array",
            "description": "Group metadata to organise subset screens.",
            "items": {
              "$ref": "#/components/schemas/NudgeToolSubsetGroupDto"
            }
          }
        }
      },
      "NudgeToolScoreDto": {
        "type": "object",
        "properties": {
          "scoreName": {
            "type": "string",
            "description": "Identifier of the score used by the nudge tool.",
            "example": "IMPACT_SCORE"
          },
          "scoreMinValue": {
            "type": "number",
            "format": "double",
            "description": "Minimum value required to feature the score.",
            "example": 70
          },
          "mdiIcon": {
            "type": "string",
            "description": "Material Design icon representing the score.",
            "example": "leaf"
          },
          "title": {
            "type": "string",
            "description": "Localised title of the nudge."
          },
          "description": {
            "type": "string",
            "description": "Localised description for the nudge."
          }
        }
      },
      "NudgeToolSubsetGroupDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Identifier of the subset group used to cluster subsets."
          },
          "title": {
            "type": "string",
            "description": "Localised title displayed for the group."
          },
          "description": {
            "type": "string",
            "description": "Optional description shown under the group title."
          },
          "mdiIcon": {
            "type": "string",
            "description": "Material Design icon decorating the group header."
          },
          "layout": {
            "type": "string",
            "description": "Layout hint for the frontend (e.g. grid, list)."
          },
          "ctaLabel": {
            "type": "string",
            "description": "Custom call-to-action label for the group step."
          }
        }
      },
      "ScoreNormalizationConfigDto": {
        "type": "object",
        "properties": {
          "method": {
            "type": "string",
            "description": "Normalization method used for this score.",
            "enum": [
              "SIGMA",
              "PERCENTILE",
              "MINMAX_FIXED",
              "MINMAX_QUANTILE",
              "FIXED_MAPPING",
              "BINARY",
              "CONSTANT"
            ]
          },
          "params": {
            "$ref": "#/components/schemas/ScoreNormalizationParamsDto",
            "description": "Parameters used by the normalization method."
          }
        }
      },
      "ScoreNormalizationParamsDto": {
        "type": "object",
        "properties": {
          "sigmaK": {
            "type": "number",
            "format": "double",
            "description": "Sigma factor used by SIGMA normalization.",
            "example": 2.0
          },
          "fixedMin": {
            "type": "number",
            "format": "double",
            "description": "Fixed minimum bound used by MINMAX_FIXED normalization.",
            "example": 0.0
          },
          "fixedMax": {
            "type": "number",
            "format": "double",
            "description": "Fixed maximum bound used by MINMAX_FIXED normalization.",
            "example": 10.0
          },
          "quantileLow": {
            "type": "number",
            "format": "double",
            "description": "Lower quantile used by MINMAX_QUANTILE normalization.",
            "example": 0.05
          },
          "quantileHigh": {
            "type": "number",
            "format": "double",
            "description": "Upper quantile used by MINMAX_QUANTILE normalization.",
            "example": 0.95
          },
          "mapping": {
            "type": "object",
            "additionalProperties": {
              "type": "number",
              "format": "double"
            },
            "description": "Mapping table used by FIXED_MAPPING normalization."
          },
          "constantValue": {
            "type": "number",
            "format": "double",
            "description": "Constant value used by CONSTANT normalization.",
            "example": 2.5
          },
          "threshold": {
            "type": "number",
            "format": "double",
            "description": "Threshold used by BINARY normalization.",
            "example": 1.0
          },
          "greaterIsPass": {
            "type": "boolean",
            "description": "When true, BINARY normalization passes when value >= threshold.",
            "example": true
          }
        }
      },
      "ScoreScaleDto": {
        "type": "object",
        "properties": {
          "min": {
            "type": "number",
            "format": "double",
            "description": "Minimum value for the normalized score scale.",
            "example": 0.0
          },
          "max": {
            "type": "number",
            "format": "double",
            "description": "Maximum value for the normalized score scale.",
            "example": 5.0
          }
        }
      },
      "ScoreScoringConfigDto": {
        "type": "object",
        "properties": {
          "scale": {
            "$ref": "#/components/schemas/ScoreScaleDto",
            "description": "Scale configuration for this score."
          },
          "normalization": {
            "$ref": "#/components/schemas/ScoreNormalizationConfigDto",
            "description": "Normalization configuration for this score."
          },
          "transform": {
            "type": "string",
            "description": "Value transform applied before normalization.",
            "enum": [
              "NONE",
              "LOG",
              "SQRT"
            ]
          },
          "missingValuePolicy": {
            "type": "string",
            "description": "Policy used when a value is missing.",
            "enum": [
              "NEUTRAL",
              "WORST"
            ]
          },
          "degenerateDistributionPolicy": {
            "type": "string",
            "description": "Policy used when distribution is degenerate.",
            "enum": [
              "NEUTRAL",
              "ERROR",
              "FALLBACK"
            ]
          }
        }
      },
      "SubsetCriteria": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string"
          },
          "operator": {
            "type": "string",
            "enum": [
              "EQUALS",
              "LOWER_THAN",
              "GREATER_THAN"
            ]
          },
          "value": {
            "type": "string"
          }
        }
      },
      "VerticalConfigDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the vertical configuration.",
            "example": "tv"
          },
          "enabled": {
            "type": "boolean",
            "description": "Indicates whether the vertical is exposed to end-users.",
            "example": true
          },
          "popular": {
            "type": "boolean",
            "description": "Marks the category as popular when true.",
            "example": true
          },
          "googleTaxonomyId": {
            "type": "integer",
            "format": "int32",
            "description": "Google taxonomy identifier associated with this vertical.",
            "example": 404
          },
          "icecatTaxonomyId": {
            "type": "integer",
            "format": "int32",
            "description": "Icecat taxonomy identifier associated with this vertical.",
            "example": 1584
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "description": "Display order used to render the category list.",
            "example": 1
          },
          "mdiIcon": {
            "type": "string",
            "description": "Material Design icon name representing the vertical.",
            "example": "television"
          },
          "imageSmall": {
            "type": "string",
            "description": "Thumbnail image representing the vertical."
          },
          "imageMedium": {
            "type": "string",
            "description": "Medium image for the vertical "
          },
          "imageLarge": {
            "type": "string",
            "description": "Large image for the vertical "
          },
          "verticalHomeTitle": {
            "type": "string",
            "description": "Localised home title for the vertical.",
            "example": "Téléviseurs"
          },
          "verticalHomeDescription": {
            "type": "string",
            "description": "Localised home description for the vertical.",
            "example": "Comparez les téléviseurs responsables"
          },
          "verticalHomeUrl": {
            "type": "string",
            "description": "Localised home URL slug for the vertical.",
            "example": "televiseurs"
          },
          "popularAttributes": {
            "type": "array",
            "description": "Popular attributes resolved to their full configuration metadata.",
            "items": {
              "$ref": "#/components/schemas/AttributeConfigDto"
            }
          },
          "aggregatedScores": {
            "type": "array",
            "description": "Identifiers of composite scores aggregating score attributes for the vertical.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "nudgeToolConfig": {
            "$ref": "#/components/schemas/NudgeToolConfigDto",
            "description": "Configuration supporting the guided nudge tool for this vertical."
          }
        }
      },
      "VerticalSubsetDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Identifier of the subset.",
            "example": "premium"
          },
          "group": {
            "type": "string",
            "description": "Group identifier allowing subsets to be clustered together."
          },
          "criterias": {
            "type": "array",
            "description": "Criteria defining the subset membership.",
            "items": {
              "$ref": "#/components/schemas/SubsetCriteria"
            }
          },
          "image": {
            "type": "string",
            "description": "Image illustrating the subset."
          },
          "url": {
            "type": "string",
            "description": "Localised URL pointing to the subset page."
          },
          "caption": {
            "type": "string",
            "description": "Localised caption displayed when listing subsets."
          },
          "title": {
            "type": "string",
            "description": "Localised title displayed for the subset."
          },
          "description": {
            "type": "string",
            "description": "Localised description detailing the subset purpose."
          }
        }
      },
      "AiPromptsConfig": {
        "type": "object",
        "properties": {
          "override": {
            "type": "boolean"
          },
          "rootPrompt": {
            "type": "string"
          },
          "prompts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LegacyPromptConfig"
            }
          }
        }
      },
      "AttributesConfigDto": {
        "type": "object",
        "properties": {
          "configs": {
            "type": "array",
            "description": "Attribute configurations defined for the vertical.",
            "items": {
              "$ref": "#/components/schemas/AttributeConfigDto"
            }
          },
          "featuredValues": {
            "type": "array",
            "description": "Attribute values considered as featured for highlighting.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "exclusions": {
            "type": "array",
            "description": "Attribute names excluded from aggregation.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          }
        }
      },
      "BarcodeAggregationProperties": {
        "type": "object",
        "properties": {
          "qrCodeSize": {
            "type": "integer",
            "format": "int32"
          },
          "gtinSize": {
            "type": "integer",
            "format": "int32"
          },
          "datamatrixSize": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "BlogPostDto": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string",
            "description": "URL slug identifying the post",
            "example": "my-first-post"
          },
          "title": {
            "type": "string",
            "description": "Post title that will align with the requested domainLanguage when localisation is enabled.",
            "example": "My first post"
          },
          "author": {
            "type": "string",
            "description": "Author full name, unaffected by domainLanguage",
            "example": "John Doe"
          },
          "summary": {
            "type": "string",
            "description": "Post summary prepared for domainLanguage-driven localisation.",
            "example": "Short introduction"
          },
          "body": {
            "type": "string",
            "description": "HTML body that will match the requested domainLanguage when localisation is in place."
          },
          "category": {
            "type": "array",
            "description": "Post categories (labels expected to follow the requested domainLanguage once implemented)",
            "example": [
              "eco"
            ],
            "items": {
              "type": "string"
            }
          },
          "image": {
            "type": "string",
            "description": "Cover image URL",
            "example": "/blog/Post/image.jpg"
          },
          "editLink": {
            "type": "string",
            "description": "Direct edit link",
            "example": "https://wiki/edit/Blog/Post"
          },
          "createdMs": {
            "type": "integer",
            "format": "int64",
            "description": "Creation timestamp ms",
            "example": 1690972800000
          },
          "modifiedMs": {
            "type": "integer",
            "format": "int64",
            "description": "Modification timestamp ms",
            "example": 1690972900000
          }
        }
      },
      "CategoryBreadcrumbItemDto": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Localised label of the taxonomy node displayed in the breadcrumb.",
            "example": "Électroménager"
          },
          "link": {
            "type": "string",
            "description": "Localised URL path for the taxonomy node, resolved against the domain language.",
            "example": "/categories/electromenager"
          }
        }
      },
      "DescriptionsAggregationConfig": {
        "type": "object",
        "properties": {
          "descriptionsTruncationLength": {
            "type": "integer",
            "format": "int32"
          },
          "descriptionsTruncationSuffix": {
            "type": "string"
          }
        }
      },
      "FeatureGroupDto": {
        "type": "object",
        "properties": {
          "icecatCategoryFeatureGroupId": {
            "type": "integer",
            "format": "int32",
            "description": "Identifier of the Icecat feature group mapped to this entry."
          },
          "name": {
            "type": "string",
            "description": "Localised display name of the feature group."
          },
          "featuresId": {
            "type": "array",
            "description": "Identifiers of the Icecat features that belong to this group.",
            "items": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      },
      "ImpactScoreConfigDto": {
        "type": "object",
        "properties": {
          "criteriasPonderation": {
            "type": "object",
            "additionalProperties": {
              "type": "number",
              "format": "double"
            },
            "description": "Weight applied to each impact score criterion."
          },
          "texts": {
            "$ref": "#/components/schemas/ImpactScoreTexts",
            "description": "Localised explanatory texts for the impact score."
          },
          "yamlPrompt": {
            "type": "string",
            "description": "Prompt used to produce the YAML configuration."
          },
          "aiJsonResponse": {
            "type": "string",
            "description": "AI response that generated the configuration."
          }
        }
      },
      "ImpactScoreTexts": {
        "type": "object",
        "properties": {
          "criteriasAnalysis": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          },
          "purpose": {
            "type": "string"
          },
          "criticalReview": {
            "type": "string"
          },
          "availlableDatas": {
            "type": "string"
          }
        }
      },
      "LegacyPromptConfig": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string"
          },
          "prompt": {
            "type": "string"
          }
        }
      },
      "RecommandationChoice": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "queryFragment": {
            "type": "string"
          },
          "defaultChoice": {
            "type": "boolean"
          },
          "divid": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "RecommandationCriteria": {
        "type": "object",
        "properties": {
          "choices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecommandationChoice"
            }
          },
          "panelType": {
            "type": "string"
          }
        }
      },
      "RecommandationsConfig": {
        "type": "object",
        "properties": {
          "recommandations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/RecommandationCriteria"
            }
          }
        },
        "required": [
          "recommandations"
        ]
      },
      "ResourcesAggregationConfig": {
        "type": "object",
        "properties": {
          "overrideResources": {
            "type": "boolean"
          },
          "md5Exclusions": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "minPixelsEvictionSize": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ScoringAggregationConfig": {
        "type": "object",
        "properties": {
          "globalScore": {
            "type": "object",
            "additionalProperties": {
              "type": "number",
              "format": "double"
            }
          },
          "scores": {
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "additionalProperties": {
                "type": "number",
                "format": "double"
              }
            }
          }
        }
      },
      "VerticalConfigFullDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the vertical configuration.",
            "example": "tv"
          },
          "enabled": {
            "type": "boolean",
            "description": "Indicates whether the vertical is exposed to end-users.",
            "example": true
          },
          "popular": {
            "type": "boolean",
            "description": "Marks the category as popular when true.",
            "example": true
          },
          "googleTaxonomyId": {
            "type": "integer",
            "format": "int32",
            "description": "Google taxonomy identifier associated with this vertical.",
            "example": 404
          },
          "icecatTaxonomyId": {
            "type": "integer",
            "format": "int32",
            "description": "Icecat taxonomy identifier associated with this vertical.",
            "example": 1584
          },
          "order": {
            "type": "integer",
            "format": "int32",
            "description": "Display order used to render the category list.",
            "example": 1
          },
          "mdiIcon": {
            "type": "string",
            "description": "Material Design icon name representing the vertical.",
            "example": "television"
          },
          "imageSmall": {
            "type": "string",
            "description": "Thumbnail image representing the vertical."
          },
          "imageMedium": {
            "type": "string",
            "description": "Medium image for the vertical "
          },
          "imageLarge": {
            "type": "string",
            "description": "Large image for the vertical "
          },
          "verticalHomeTitle": {
            "type": "string",
            "description": "Localised home title for the vertical.",
            "example": "Téléviseurs"
          },
          "verticalHomeDescription": {
            "type": "string",
            "description": "Localised home description for the vertical.",
            "example": "Comparez les téléviseurs responsables"
          },
          "verticalHomeUrl": {
            "type": "string",
            "description": "Localised home URL slug for the vertical.",
            "example": "televiseurs"
          },
          "verticalMetaTitle": {
            "type": "string",
            "description": "Localised meta title for the vertical landing page."
          },
          "verticalMetaDescription": {
            "type": "string",
            "description": "Localised meta description for the vertical landing page."
          },
          "verticalMetaOpenGraphTitle": {
            "type": "string",
            "description": "Localised Open Graph title for the vertical landing page."
          },
          "verticalMetaOpenGraphDescription": {
            "type": "string",
            "description": "Localised Open Graph description for the vertical landing page."
          },
          "breadCrumb": {
            "type": "array",
            "description": "Breadcrumb derived from the Google taxonomy hierarchy for this vertical.",
            "items": {
              "$ref": "#/components/schemas/CategoryBreadcrumbItemDto"
            }
          },
          "relatedPosts": {
            "type": "array",
            "description": "Most recent blog posts tagged with the vertical identifier.",
            "items": {
              "$ref": "#/components/schemas/BlogPostDto"
            }
          },
          "wikiPages": {
            "type": "array",
            "description": "Localised wiki pages associated with the vertical.",
            "items": {
              "$ref": "#/components/schemas/WikiPageConfig"
            }
          },
          "aiConfigs": {
            "$ref": "#/components/schemas/AiPromptsConfig",
            "description": "Localised AI generation configuration for the vertical."
          },
          "ecoFilters": {
            "type": "array",
            "description": "Eco filters enabled for this vertical.",
            "items": {
              "type": "string"
            }
          },
          "technicalFilters": {
            "type": "array",
            "description": "Technical filters enabled for this vertical.",
            "items": {
              "type": "string"
            }
          },
          "globalTechnicalFilters": {
            "type": "array",
            "description": "Global technical filters applied across datasources.",
            "items": {
              "type": "string"
            }
          },
          "matchingCategories": {
            "type": "object",
            "additionalProperties": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "uniqueItems": true
            },
            "description": "Mapping of datasource categories to this vertical."
          },
          "excludingTokensFromCategoriesMatching": {
            "type": "array",
            "description": "Tokens that exclude a product from matching this vertical.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "generationExcludedFromCategoriesMatching": {
            "type": "array",
            "description": "Datasources ignored when computing category matches.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "generationExcludedFromAttributesMatching": {
            "type": "array",
            "description": "Attributes ignored when computing attribute suggestions.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "requiredAttributes": {
            "type": "array",
            "description": "Attributes required for the product to belong to this vertical.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "forceNameGeneration": {
            "type": "boolean",
            "description": "Regenerate URL friendly names even if already generated."
          },
          "brandsAlias": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Mappings of brand aliases to canonical brand names."
          },
          "brandsExclusion": {
            "type": "array",
            "description": "Brands excluded from this vertical.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "resourcesConfig": {
            "$ref": "#/components/schemas/ResourcesAggregationConfig",
            "description": "Configuration for media aggregation."
          },
          "attributesConfig": {
            "$ref": "#/components/schemas/AttributesConfigDto",
            "description": "Configuration for attribute aggregation and filters."
          },
          "popularAttributes": {
            "type": "array",
            "description": "Popular attributes resolved to their full configuration metadata.",
            "items": {
              "$ref": "#/components/schemas/AttributeConfigDto"
            }
          },
          "availableImpactScoreCriterias": {
            "type": "array",
            "description": "Identifiers of impact score criteria available for this vertical.",
            "items": {
              "type": "string"
            }
          },
          "aggregatedScores": {
            "type": "array",
            "description": "Identifiers of composite scores aggregating score attributes for the vertical.",
            "items": {
              "type": "string"
            },
            "uniqueItems": true
          },
          "impactScoreConfig": {
            "$ref": "#/components/schemas/ImpactScoreConfigDto",
            "description": "Impact score configuration balancing each criterion, with localised texts."
          },
          "subsets": {
            "type": "array",
            "description": "Custom subsets defined for this vertical with localised labels.",
            "items": {
              "$ref": "#/components/schemas/VerticalSubsetDto"
            }
          },
          "nudgeToolConfig": {
            "$ref": "#/components/schemas/NudgeToolConfigDto",
            "description": "Configuration supporting the guided nudge tool for this vertical."
          },
          "brandsSubset": {
            "$ref": "#/components/schemas/VerticalSubsetDto",
            "description": "Subset dedicated to brand exploration with localised labels."
          },
          "barcodeConfig": {
            "$ref": "#/components/schemas/BarcodeAggregationProperties",
            "description": "Barcode aggregation configuration."
          },
          "recommandationsConfig": {
            "$ref": "#/components/schemas/RecommandationsConfig",
            "description": "Recommendation engine configuration."
          },
          "descriptionsAggregationConfig": {
            "$ref": "#/components/schemas/DescriptionsAggregationConfig",
            "description": "Description aggregation configuration."
          },
          "scoringAggregationConfig": {
            "$ref": "#/components/schemas/ScoringAggregationConfig",
            "description": "Scoring aggregation configuration."
          },
          "featureGroups": {
            "type": "array",
            "description": "Feature groups ordering attributes for UI rendering with localised labels.",
            "items": {
              "$ref": "#/components/schemas/FeatureGroupDto"
            }
          }
        }
      },
      "WikiPageConfig": {
        "type": "object",
        "properties": {
          "wikiUrl": {
            "type": "string"
          },
          "verticalUrl": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "faIcon": {
            "type": "string"
          }
        }
      },
      "CategoryNavigationDto": {
        "type": "object",
        "properties": {
          "category": {
            "$ref": "#/components/schemas/GoogleCategoryDto",
            "description": "Current taxonomy node selected by the caller."
          },
          "breadcrumbs": {
            "type": "array",
            "description": "Breadcrumb entries starting from the catalog root.",
            "items": {
              "$ref": "#/components/schemas/CategoryBreadcrumbItemDto"
            }
          },
          "childCategories": {
            "type": "array",
            "description": "Immediate children of the selected node filtered by the presence of verticals downstream.",
            "items": {
              "$ref": "#/components/schemas/GoogleCategoryDto"
            }
          },
          "descendantVerticals": {
            "type": "array",
            "description": "Descendant nodes exposing a vertical configuration but not already present in childCategories.",
            "items": {
              "$ref": "#/components/schemas/GoogleCategoryDto"
            }
          },
          "popularCategories": {
            "type": "array",
            "description": "Popular categories descending from the current node, including indirect children.",
            "items": {
              "$ref": "#/components/schemas/GoogleCategoryDto"
            }
          },
          "topNewProducts": {
            "type": "array",
            "description": "Top five new products for the category ordered by descending impact score. Only the base facet is populated.",
            "items": {
              "$ref": "#/components/schemas/ProductDto"
            }
          },
          "topOccasionProducts": {
            "type": "array",
            "description": "Top five occasion products for the category ordered by descending impact score. Only the base facet is populated.",
            "items": {
              "$ref": "#/components/schemas/ProductDto"
            }
          }
        }
      },
      "GoogleCategoryDto": {
        "type": "object",
        "properties": {
          "googleCategoryId": {
            "type": "integer",
            "format": "int32",
            "description": "Google taxonomy identifier of the category.",
            "example": 499972
          },
          "title": {
            "type": "string",
            "description": "Localised display label for the category.",
            "example": "Téléviseurs"
          },
          "slug": {
            "type": "string",
            "description": "Slug corresponding to the current category segment.",
            "example": "televiseurs"
          },
          "path": {
            "type": "string",
            "description": "Hierarchical path made of slug segments separated by '/' starting from the root.",
            "example": "electronique/televiseurs"
          },
          "leaf": {
            "type": "boolean",
            "description": "Indicates whether the node has no children in the Google taxonomy tree.",
            "example": false
          },
          "hasVertical": {
            "type": "boolean",
            "description": "True when a vertical configuration is directly associated with the node.",
            "example": true
          },
          "hasVerticals": {
            "type": "boolean",
            "description": "True when the node or one of its descendants exposes a vertical configuration.",
            "example": true
          },
          "vertical": {
            "$ref": "#/components/schemas/VerticalConfigDto",
            "description": "Summary description of the associated vertical when present."
          },
          "children": {
            "type": "array",
            "description": "Direct children of the category limited to the requested depth.",
            "items": {
              "$ref": "#/components/schemas/GoogleCategoryDto"
            }
          }
        }
      },
      "BlogTagDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Tag name that will be localised using the requested domainLanguage when implemented.",
            "example": "eco"
          },
          "count": {
            "type": "integer",
            "format": "int32",
            "description": "Number of posts having this tag",
            "example": 5,
            "minimum": 0
          }
        }
      },
      "PageDto": {
        "type": "object",
        "properties": {
          "page": {
            "$ref": "#/components/schemas/PageMetaDto",
            "description": "Pagination metadata"
          },
          "data": {
            "type": "array",
            "description": "Current page content, to be localised using the domainLanguage query parameter when supported.",
            "items": {}
          }
        }
      },
      "XwikiContentBlocDto": {
        "type": "object",
        "properties": {
          "blocId": {
            "type": "string",
            "description": "Identifier of the XWiki bloc",
            "example": "Main.WebHome"
          },
          "htmlContent": {
            "type": "string",
            "description": "Rendered HTML content, expected to be localised according to domainLanguage in the future."
          },
          "editLink": {
            "type": "string",
            "description": "Direct edit link for the XWiki page"
          }
        }
      },
      "AgentIssueDto": {
        "type": "object",
        "description": "Detailed view of an agent-created issue",
        "properties": {
          "issueId": {
            "type": "string",
            "description": "Issue ID"
          },
          "number": {
            "type": "integer",
            "format": "int32",
            "description": "Issue Number"
          },
          "title": {
            "type": "string",
            "description": "Issue Title"
          },
          "url": {
            "type": "string",
            "description": "Issue URL"
          },
          "status": {
            "type": "string",
            "description": "Issue Status (open/closed)"
          },
          "labels": {
            "type": "array",
            "description": "Issue Labels",
            "items": {
              "type": "string"
            }
          },
          "workflowState": {
            "type": "string",
            "description": "Workflow State"
          },
          "previewUrl": {
            "type": "string",
            "description": "Preview URL"
          },
          "promptVisibility": {
            "type": "string",
            "description": "Prompt Visibility",
            "enum": [
              "PUBLIC",
              "PRIVATE"
            ]
          },
          "promptSummary": {
            "type": "string",
            "description": "Prompt Summary (if public)"
          },
          "comments": {
            "type": "array",
            "description": "Discussion comments",
            "items": {
              "$ref": "#/components/schemas/IssueCommentDto"
            }
          }
        }
      },
      "IssueCommentDto": {
        "type": "object",
        "description": "Issue comment",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "Comment identifier"
          },
          "author": {
            "type": "string",
            "description": "Comment author"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "body": {
            "type": "string",
            "description": "Markdown content"
          }
        }
      },
      "AgentAttributeDto": {
        "type": "object",
        "description": "Custom attribute definition",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "options": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "AgentTemplateDto": {
        "type": "object",
        "description": "Configuration template for an agent",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the agent"
          },
          "name": {
            "type": "string",
            "description": "Localized name of the agent"
          },
          "description": {
            "type": "string",
            "description": "Localized description"
          },
          "icon": {
            "type": "string",
            "description": "Icon identifier (MDI)"
          },
          "promptTemplates": {
            "type": "array",
            "description": "Available prompt templates",
            "items": {
              "$ref": "#/components/schemas/PromptTemplateDto"
            }
          },
          "tags": {
            "type": "array",
            "description": "Associated tags",
            "items": {
              "type": "string"
            }
          },
          "allowedRoles": {
            "type": "array",
            "description": "Allowed roles to access this agent",
            "items": {
              "type": "string"
            }
          },
          "publicPromptHistory": {
            "type": "boolean",
            "description": "Whether the prompt history is public"
          },
          "allowTemplateEditing": {
            "type": "boolean",
            "description": "Whether user can edit the selected prompt template"
          },
          "mailTemplate": {
            "$ref": "#/components/schemas/MailTemplateDto",
            "description": "Mailto template configuration"
          },
          "attributes": {
            "type": "array",
            "description": "Custom attributes for the agent",
            "items": {
              "$ref": "#/components/schemas/AgentAttributeDto"
            }
          }
        }
      },
      "MailTemplateDto": {
        "type": "object",
        "description": "Mailto configuration",
        "properties": {
          "to": {
            "type": "string"
          },
          "subject": {
            "type": "string"
          },
          "body": {
            "type": "string"
          }
        }
      },
      "PromptTemplateDto": {
        "type": "object",
        "description": "Prompt template option",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the prompt template"
          },
          "title": {
            "type": "string",
            "description": "Localized title of the template"
          },
          "content": {
            "type": "string",
            "description": "Prompt content in markdown/inline format"
          }
        }
      },
      "AgentActivityDto": {
        "type": "object",
        "description": "Summary of a recent agent request",
        "properties": {
          "id": {
            "type": "string",
            "description": "Issue ID"
          },
          "type": {
            "type": "string",
            "description": "Request Type",
            "enum": [
              "FEATURE",
              "QUESTION"
            ]
          },
          "issueUrl": {
            "type": "string",
            "description": "Issue URL"
          },
          "status": {
            "type": "string",
            "description": "Issue Status"
          },
          "promptVisibility": {
            "type": "string",
            "description": "Prompt Visibility",
            "enum": [
              "PUBLIC",
              "PRIVATE"
            ]
          },
          "promptSummary": {
            "type": "string",
            "description": "Prompt Summary (if public)"
          },
          "commentsCount": {
            "type": "integer",
            "format": "int32",
            "description": "Number of discussion comments"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
