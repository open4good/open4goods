####################################################################################################################################################################
#
# This is the configuration for the TV vertical. All the configs items are inherited from the "_default.yml" configuration
# 
# This "TV" vertical aims to be the demonstration one. Please use the below doc as a reference, and copy/paste/adapt to setup other verticals.
# @See open4goods/commons/src/main/java/org/open4goods/config/yml/ui/VerticalConfig.java for commented POJO definition
###################################################################################################################################################################

# Unique identifier for this vertical. 
# MUST contains only charracters
# SHOULD be equal to the configuration file name, without the extension
id: tv

# The associated google taxonomyID. (Ex : FR - https://www.google.com/basepages/producttype/taxonomy-with-ids.fr-FR.txt)
# SHOULD be set, it will then force this taxonomy for all products in this vertical
googleTaxonomyId: 404

#TODO : Documentation
icecatTaxonomyId: 1584
##############################################################################
# Product classification from categories
##############################################################################
# Will associate to this vertical if one of the following categorie is present for the product  
matchingCategories:
- "HIFI>TELEVISION"
- "APPAREILS ELECTRONIQUES > VIDEO > TELEVISEURS"
- "TV, VIDEO, HOME CINEMA>TELEVISEUR>TV LED"
- "TV - VIDEO - SON > TELEVISEUR > TELEVISEUR LED"
- "TV & VIDEO & HOME CINEMA > TELEVISEUR > TV LED/LCD"
- "TV"
- "HIGH-TECH > TELEVISION, HI-FI > TELEVISION"

# The categories that disengage a mapping in this vertical  
unmatchingCategories:
- "HIFI>APPAREILS-PHOTO"

#####################################################################################################################################
# I18N CONFIGURATION
# Configure in a i18n way all the texts of a product, including the Url, the title, the description, the open graph metas, ....
# Use a micro templated language, that allows to introduce variables and "if condition", which allows to generate dynamic texts 
######################################################################################################################################
i18n:
  default:
      # The layout a product url will have. Ex : 81234555-tv-led-samsung-QL659P 2023
      url: 
        # We can add ta custom prefix (with our conditional templating language if we want)
        prefix: "|| tv | television | televiseur ||"
        # Then we add some attributes values with hyphens if present (ex : led-samsung-QL659P-2023)
        attrs:
          - TV_TYPE
          - BRAND
          - MODEL
          - YEAR
      ##################################
      # Product page meta and h1 title 
      ##################################
      # The product h1 title. Constructed on the same basis than "url", but without the concatened hyphens
      h1Title:  
        prefix: "|| TV | TÃ©lÃ©vision | TÃ©lÃ©viseur | Televiseur ||"
        attrs:
          - TV_TYPE
          - BRAND
          - MODEL
          - YEAR
        
      productMetaTitle: "[(${p.brand()})] [(${p.model()})] : Eco-score, compensation Ã©cologique et meilleurs prix"
      productMetaDescription:  "[(${p.brand()})] [(${p.model()})] : Eco-score, compensation || Ã©cologique | environnementale || et meilleurs prix."              
      productMetaOpenGraphTitle: "[(${p.brand()})] - [(${p.model()})] : Ecoscore de [(${p.ecoscore()})]. Venez nudger ce tÃ©lÃ©viseur au meilleur prix, et reversez gratuitement [(${p.compensation()})]"
      productMetaOpenGraphDescription: "productMetaOpenGraphDescription"
      productMetaTwitterTitle: "productMetaTwitterTitle"
      productMetaTwitterDescription: "productMetaTwitterDescription"

      ##################################
      # Vertical page elements 
      ##################################
      
      # url for vertical (appened to baseUrl). No templating here 
      verticalHomeUrl: "televiseurs"
      # Text displaid as title for the vertical
      # TODO : Make verticalHomeTitle/ verticalHomeDescription templatable
      verticalHomeTitle: "Televiseurs"
      # Text displaid as title for the vertical
      verticalHomeDescription: "Bienvenue dans notre rubrique tÃ©lÃ©viseurs. Devenus des objets quasi-nÃ©cessaires, nos TV's ne sont malheureusement pas neutres pour l'environnement ðŸŒ ! Heureusement, Nudger est lÃ  pour vous informer et vous aider Ã  choisir la TV la plus Ã©cologique et la plus adaptÃ©e Ã  votre besoin."  
      # The image used as a logo
      verticalHomeLogo: "https://media.istockphoto.com/id/173240143/fr/photo/t%C3%A9l%C3%A9vision-avec-deux-masques-de-d%C3%A9tourage.jpg?s=612x612&w=0&k=20&c=GhzC3IyvkmRp9shUBHICxM_1Lsur2uWkpNKf2F22p8s="

     # A mapping beetween custom page names behind this vertical and wiki pages
      wikiPages:
        - wikiUrl: verticals.tv.default.technologies-tv.WebHome
          verticalUrl: "oled-qled-lcd-que-choisir"
          title: "OLED, QLED,LCD, ... Quelle technologie choisir ?"
          faIcon: "fa-star"

      ####################################################################################
      # AI TEXTS CONFIGS
      ####################################################################################  
      aiConfig:
        - key: "global-description"
#        You are a review writer, specialized in technologies and environmental concerns 
          prompt: >
           Ã©cris une description objective du tÃ©lÃ©viseur  [(${p.brand()})] [(${p.model()})],
           dans un style acadÃ©mique et ludique,           
           un texte de maximum 200 mots,
           en utilisant que du text brut,
           en prÃ©sentant les principales caracteristiques techniques,
           sur la base des caracteriques suivantes : [(${p.caracteristics()})]
          override: false
        - key: "ecological-description" 
          prompt: > 
           ecris une analyse dÃ©taillÃ©e de l'impact environnemental du tÃ©lÃ©viseur [(${p.brand()})] [(${p.model()})],
           un texte de maximum 200 mots,
           dans un style Ã©cologique engagÃ© mais objectif,
           en utilisant que du text brut,
           sur la base des caracteriques suivantes : [(${p.caracteristics()})]
          override: false

# GenAiConfig for this vertical
genAiConfig:
  # If false, will bypass the generativ ia texts generation  
  enabled: true
  # Max products to be generated. Products are ordered by ecoscore
  maxPerVerticals: 100
  
  
##############################################################################
# Eco score configuration 
# Specify here the specific ecoscore for this vertical. Format : 
# >> EXISTING_SCORE: WEIGHT
# Weight sum MUST BE equals to 1
##############################################################################

ecoscoreConfig:
   BRAND_SUSTAINABILITY: 0.2
   REPAIRABILITY_INDEX: 0.3
   CLASSE_ENERGY : 0.3
   WARRANTY: 0.1
   DATA-QUALITY: 0.1

##############################################################################
# Custom search filters : the following filters
# will also be availlable in search for this vertical (must be an attribute or a score)
##############################################################################

verticalFilters:
  - "DIAGONALE_POUCES"
  - "TV_TYPE"
#  - "CLASSE_ENERGY"   
#  - "PARTS_AVAILLABILITY"
#  - "WARRANTY"
#  - "DATA-QUALITY"  
#  - "REPAIRABILITY_INDEX" 
#  - "BRAND-SUSTAINABILITY"


##############################################################################
# We cannot always identify manually what comppany operates a brand, and there is often 
# confilicts or multiple possibilities that need to be manually adressed. (eg. samsung a lot of activities / brand through different companies)
#
##############################################################################

brandsCompanyMapping:
  SAMSUNG: "Samsung Electronics Co., Ltd."
  TCL: "TCL Electronics Holdings Ltd."
  LG: "LG Electronics, Inc."



####################################################################################
# ATTRIBUTES CONFIGURATION
####################################################################################
attributesConfig:
  # If one of the following attribute is missing on a product, the product will be disassociated from this vertical. (setting vertical to null)
  mandatory:
   - "DIAGONALE_POUCES"
#   - "REPAIRABILITY_INDEX"
   - "TV_TYPE"
   
  ####################################################################################
  # ATTRIBUTES DEFINITIONS
  # Those attributes will be availlable for all products if one is found.
  ####################################################################################      
  configs:  
     ##################################
     # DIAGONALE
     ##################################
     - key: "DIAGONALE_POUCES"
       faIcon: "up-right-and-down-left-from-center"
       name:
         default: "Screen size"
         fr: "Diagonale (en pouces)"
       type: "NUMERIC"
   
       asRating: false
       synonyms:
         rakuten.com:      
         - "DIAGONALE"
   
       parser:
         normalize: true
         trim: false
         lowerCase: false
         upperCase: true
         removeParenthesis: false
   #      deleteTokens:

   
     ##################################
     # TYPE TV
     ##################################
     - key: "TV_TYPE"
       faIcon: "fa-tv"
       name:
         default: "Tv type"
         fr: "Type de TV"
       type: "TEXT"
   
       asRating: false
       asSearchFilter: false       
       synonyms:
         all:      
         - "TYPE DE PRODUIT"
         - "TV_DEFINITION"
       mappings:
         "TV OLED" : "OLED"
         "TV QLED" : "QLED"
         "TV LED" : "LED"
         
       parser:
         normalize: true
         trim: false
         lowerCase: false
         upperCase: true
         removeParenthesis: false
   #      deleteTokens:   