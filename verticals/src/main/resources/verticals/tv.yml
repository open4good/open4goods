####################################################################################################################################################################
#
# This is the configuration for the TV vertical. All the configs items are inherited from the "_default.yml" configuration
# 
# This "TV" vertical aims to be the demonstration one. Please use the below doc as a reference, and copy/paste/adapt to setup other verticals.
# @See open4goods/commons/src/main/java/org/open4goods/config/yml/ui/VerticalConfig.java for commented POJO definition
###################################################################################################################################################################

# Unique identifier for this vertical. 
# MUST contains only charracters
# SHOULD be equal to the configuration file name, without the extension
id: tv

# The associated google taxonomyID. (Ex : FR - https://www.google.com/basepages/producttype/taxonomy-with-ids.fr-FR.txt)
# SHOULD be set, it will then force this taxonomy for all products in this vertical
googleTaxonomyId: 404

# Indicates if the vertical must be UI / sitemap / search rendered
enabled: true

# GenAiConfig for this vertical
genAiConfig:
  # If false, will bypass the generativ ia texts generation  
  enabled: false



#####################################################################################################################################
# ImpacScore configuration.
#####################################################################################################################################






impactScoreConfig:
  criteriasPonderation:
    POWER_CONSUMPTION_TYPICAL: 0.25
    REPAIRABILITY_INDEX: 0.2
    WEIGHT: 0.15
    POWER_CONSUMPTION_OFF: 0.1
    BRAND_SUSTAINABILITY: 0.15
    DATA_QUALITY: 0.15
  texts:
    fr:
      criteriasAnalysis:
        POWER_CONSUMPTION_TYPICAL: "La consommation électrique en fonctionnement est un facteur clé car elle représente l'impact direct et continu du produit sur l'environnement. Une pondération de 0.25 est justifiée par son importance dans la consommation énergétique globale."
        REPAIRABILITY_INDEX: "L'indice de réparabilité est important pour évaluer la durée de vie et la capacité à réparer le produit, réduisant ainsi les déchets électroniques. Une pondération de 0.2 est retenue pour encourager les produits plus réparables."
        WEIGHT: "Le poids est un indicateur de l'impact environnemental lié à la fabrication et au transport. Une pondération de 0.15 est attribuée pour refléter son importance relative."
        POWER_CONSUMPTION_OFF: "La consommation électrique en veille est moins significative que celle en fonctionnement, mais reste importante pour l'efficacité énergétique globale. Une pondération de 0.1 est attribuée."
        BRAND_SUSTAINABILITY: "La durabilité de la marque, évaluée par le score ESG, reflète l'engagement de l'entreprise envers des pratiques durables. Une pondération de 0.15 est justifiée pour encourager les marques responsables."
        DATA_QUALITY: "La qualité des données est essentielle pour garantir la fiabilité du score. Une pondération de 0.15 est attribuée pour pénaliser les produits avec des données manquantes tout en maintenant leur inclusion dans l'analyse."
      purpose: "Description de la démarche"
      criticalReview: "La méthodologie repose sur l'utilisation de données disponibles pour établir un score environnemental. Les facteurs choisis sont pertinents, mais l'absence de certaines données pour certains produits peut affecter la précision du score. L'indicateur de qualité des données (DATA_QUALITY) est crucial pour ajuster le score en fonction de la disponibilité des informations."
      availlableDatas: "Les données disponibles pour les téléviseurs incluent des informations sur la consommation d'énergie, le poids, l'indice de réparabilité, et la durabilité de la marque. Ces données sont pertinentes pour évaluer l'impact environnemental des téléviseurs, bien que certaines informations puissent être manquantes ou incomplètes."
  yamlPrompt: "\nkey: \"impactscore-generation\"\naiService: \"OPEN_AI\"\nsystemPrompt: \"Tu es un agent expert en évaluation environnementale des produits électriques et electroniques.\\nAdopte une démarche d’expert en analyse du cycle de vie des produits. \\nNous allons travailler sur des Téléviseurs\\nNe fournir en réponse que du JSON, conformément à la structure indiquée, sans commentaire, ni texte supplémentaire\\n\"\nuserPrompt: \"### Création d'un eco-score pour les Téléviseurs \\n\\nTu vas créer un score d'impact environnemental, qui prend en compte les impacts écologiques et sociétaux pour les Téléviseurs.\\n\\nCet Impact Score est une composition de différents facteurs coefficientés. Les facteurs disponibles sont : \\n  POWER_CONSUMPTION_TYPICAL : La consommation électrique de l&#39;objet en fonctionnement\\n  REPAIRABILITY_INDEX : L&#39;indice de réparabilité de l&#39;objet\\n  WEIGHT : Le poids de l&#39;objet\\n  POWER_CONSUMPTION_OFF : La consommation électrique à l&#39;arrêt, ou en veille\\n  BRAND_SUSTAINABILITY : L&#39;évaluation ESG de l&#39;entreprise (filiale ou société mère, suivant la finesse des données) qui fabrique le produit, d&#39;après le score de performance ESG de Sustainalytics\\n  DATA_QUALITY : La qualité de la donnée pour le produit. Quand un facteur manque pour un produit, on lui associe la moyenne de ce facteur pour sa catégorie, mai on dégrade le facteur DATA_QUALITY. Cela permet de pénaliser sans exclure les pruidts pour lequel un facteur est absent.&#39; \\n  CLASSE_ENERGY : La classe énergétique\\n\\n\\n### Principe de fonctionnement de l'eco-score\\n   \\nLes principes de fonctionnement que tu dois prendre en compte\\n   principe de relativisation des facteurs : Chacun des facteurs est représenté de manière relative, sous forme de classement. Le produit de la catégorie ayant le meilleur facteur pour l'environnement obtient 100/100, le produit ayant le moins bon score obtient 0/100' \\n   principe de virtualisation des scores manquants : si un des facteurs est absent, nous appliquons pour ce facteur la valeur moyenne de ce facteur pour l'ensemble des produits. Cet indicateur DATA_QUALITY est permet donc d'avantager les produits pour lequel toute l'info est disponible, sans pour autant pénaliser outre mesure les produits pour lesquels l'information est absente.\\n   la somme des différents facteurs coefficientés doit être égale à 1\\n   \\nTu vas travailler à partir des facteurs disponibles, pour élaborer un score d'impact environnemental pertinent pour des Téléviseurs.\\n\\n### Format de réponse attendu : JSON \\n    \\n Tout écart par rapport à la structure JSON fournie est inacceptable.\\n Aucune information supplémentaire ne doit être fournie en dehors du JSON (pas de phrases avant ou après).\\n Conserve l’ordre des clés et leur orthographe. Les clés doivent correspondre exactement à celles indiquées. Si un champ est nul ou non applicable, omets-le de la réponse.\\n Fournis une réponse JSON respectant strictement la structure suivante :\\n\\n {\\n    criteriasPonderation : {\\n      \\\"FACTEUR_1\\\" : PONDERATION_1,\\n      \\\"FACTEUR_2\\\" : PONDERATION_2,\\n      ...                        \\n    },\\n    texts: {\\n        fr: {\\n           \\\"purpose\\\": \\\"Description de la démarche\\\",\\n           \\\"availlableDatas\\\": \\\"Analyse de façon générale les données disponibles et leur pertinence pour la réalisation de cet eco-score\\\",\\n           \\\"criticalReview\\\": \\\"Revue critique et retour constructif sur la démarche et la méthodologie, en évaluant les facteurs absents ou inutiles\\\",\\n           \\\"criteriasAnalysis\\\": {\\n                \\\"FACTEUR_1\\\" : \\\"Détail et analyse de l'importance du FACTEUR_1 dans l'analyse environnemental des Téléviseurs. Explique et justifie la pondération retenue pour le FACTEUR_1\\\",\\n                \\\"FACTEUR_2\\\" : \\\"Détail et analyse de l'importance du FACTEUR_2 dans l'analyse environnemental des Téléviseurs. Explique et justifie la pondération retenue pour le FACTEUR_2\\\",\\n                ...                                    \\n           }\\n        }    \\n     }\\n }\\n\"\noptions:\n  streamUsage: false\n  model: \"gpt-4o\"\n  temperature: 0.2\n"
  aiJsonResponse: "{\n  \"criteriasPonderation\" : {\n    \"POWER_CONSUMPTION_TYPICAL\" : 0.25,\n    \"REPAIRABILITY_INDEX\" : 0.2,\n    \"WEIGHT\" : 0.15,\n    \"POWER_CONSUMPTION_OFF\" : 0.1,\n    \"BRAND_SUSTAINABILITY\" : 0.15,\n    \"DATA_QUALITY\" : 0.15\n  },\n  \"texts\" : {\n    \"fr\" : {\n      \"purpose\" : \"Description de la démarche\",\n      \"availlableDatas\" : \"Les données disponibles pour les téléviseurs incluent des informations sur la consommation d'énergie, le poids, l'indice de réparabilité, et la durabilité de la marque. Ces données sont pertinentes pour évaluer l'impact environnemental des téléviseurs, bien que certaines informations puissent être manquantes ou incomplètes.\",\n      \"criticalReview\" : \"La méthodologie repose sur l'utilisation de données disponibles pour établir un score environnemental. Les facteurs choisis sont pertinents, mais l'absence de certaines données pour certains produits peut affecter la précision du score. L'indicateur de qualité des données (DATA_QUALITY) est crucial pour ajuster le score en fonction de la disponibilité des informations.\",\n      \"criteriasAnalysis\" : {\n        \"POWER_CONSUMPTION_TYPICAL\" : \"La consommation électrique en fonctionnement est un facteur clé car elle représente l'impact direct et continu du produit sur l'environnement. Une pondération de 0.25 est justifiée par son importance dans la consommation énergétique globale.\",\n        \"REPAIRABILITY_INDEX\" : \"L'indice de réparabilité est important pour évaluer la durée de vie et la capacité à réparer le produit, réduisant ainsi les déchets électroniques. Une pondération de 0.2 est retenue pour encourager les produits plus réparables.\",\n        \"WEIGHT\" : \"Le poids est un indicateur de l'impact environnemental lié à la fabrication et au transport. Une pondération de 0.15 est attribuée pour refléter son importance relative.\",\n        \"POWER_CONSUMPTION_OFF\" : \"La consommation électrique en veille est moins significative que celle en fonctionnement, mais reste importante pour l'efficacité énergétique globale. Une pondération de 0.1 est attribuée.\",\n        \"BRAND_SUSTAINABILITY\" : \"La durabilité de la marque, évaluée par le score ESG, reflète l'engagement de l'entreprise envers des pratiques durables. Une pondération de 0.15 est justifiée pour encourager les marques responsables.\",\n        \"DATA_QUALITY\" : \"La qualité des données est essentielle pour garantir la fiabilité du score. Une pondération de 0.15 est attribuée pour pénaliser les produits avec des données manquantes tout en maintenant leur inclusion dans l'analyse.\"\n      }\n    }\n  }\n}"









#####################################################################################################################################
# I18N CONFIGURATION
# Configure in a i18n way all the texts of a product, including the Url, the title, the description, the open graph metas, ....
# Use a micro templated language, that allows to introduce variables and "if condition", which allows to generate dynamic texts 
######################################################################################################################################
i18n:
  fr:
      # The layout a product url will have. Ex : 81234555-tv-led-samsung-QL659P 2023
      url: 
        # We can add a custom prefix (with our conditional templating language if we want)
        prefix: "|| tv | television | televiseur ||"
        # Then we add some attributes values with hyphens if present (ex : led-samsung-QL659P-2023)
        attrs:
          - TV_TYPE
          - BRAND
          - MODEL
          - YEAR
      ##################################
      # Product page meta and h1 title 
      ##################################
      # The product h1 title. Constructed on the same basis than "url", but without the concatened hyphens
      h1Title:  
        prefix: "|| TV | Télévision | Téléviseur ||"
        attrs:
          - TV_TYPE
          - BRAND
          - MODEL
          - YEAR
        


      ##################################
      # Vertical page elements 
      ##################################
      
      # url for vertical (appened to baseUrl). No templating here 
      verticalHomeUrl: "televiseurs"
      # Text displaid as title for the vertical
      # TODO : Make verticalHomeTitle/ verticalHomeDescription templatable
      verticalHomeTitle: "Téléviseurs"
      # Text displaid as title for the vertical
      verticalHomeDescription: "Bienvenue dans notre rubrique téléviseurs. Devenus des objets quasi-nécessaires, nos TV's ne sont malheureusement pas neutres pour l'environnement 🌏 ! Heureusement, Nudger est là pour vous informer et vous aider à choisir la TV la plus écologique et la plus adaptée à votre besoin."  
      # The image used as a logo


     # A mapping beetween custom page names behind this vertical and wiki pages
     # Copy and paste the wiki wiew url, without the "bin/view" prefix
      wikiPages:
        - wikiUrl: /verticals/tv/technologies-tv/WebHome
          verticalUrl: "oled-qled-lcd-que-choisir"
          title: "OLED, QLED,LCD, ... Quelle technologie choisir ?"
          faIcon: "fa-star"

 
##############################################################################
# Custom search filters : the following filters
# will also be availlable in search for this vertical (must be an attribute or a score)
##############################################################################



ecoFilters:
    - "REPAIRABILITY_INDEX" 
    - "CLASSE_ENERGY"   
    - "ENERGY_CONSUMPTION_1000_HOURS"

technicalFilters:
    - "DIAGONALE_POUCES"
    - "DISPLAY_TECHNOLOGY"
    - "HDMI_PORTS_QUANTITY"
  
#  - "PARTS_AVAILLABILITY"
#  - "DATA_QUALITY"  
#  - "BRAND-SUSTAINABILITY"

# If thos attributes are not present, the product will be defined as excluded 
requiredAttributes:
  - DIAGONALE_POUCES

####################################################################################
# ATTRIBUTES CONFIGURATION
####################################################################################
attributesConfig:
   
  ###################################################################################################################
  # ATTRIBUTES DEFINITIONS
  # Those attributes will be availlable for all products if one is found.
  # The line after configs: will be updated with the attribtes suggestion API, with commented attributes 
  ##################################################################################################################      
  configs:

 

  ###################################################################################################################
  # ATTRIBUTES DEFINITIONS
  # Those attributes will be availlable for all products if one is found.
  ##################################################################################################################      
  
     ##################################
     # DIAGONALE
     ##################################
     - key: "DIAGONALE_POUCES"
       icecatFeaturesIds:
         - 944       
       faIcon: "fa-arrow-up-right-from-square"
       name:
         default: "Screen size"
         fr: "Diagonale (en pouces)"
       filteringType: "NUMERIC"
   
       asScore: false
       synonyms:
         all:
           - "DIAGONALE_POUCES" 
         rakuten.com:      
           - "DIAGONALE"
   
       parser:
         normalize: true
         trim: false
         lowerCase: false
         upperCase: true
         removeParenthesis: false
   #      deleteTokens:

   
     ##################################
     # TYPE TV
     ##################################
     - key: "DISPLAY_TECHNOLOGY"
       icecatFeaturesIds: 
         - 9713          
       faIcon: "fa-tv"
       name:
         default: "Display technology"
         fr: "Technologie d'affichage"
       filteringType: "TEXT"
   
       asScore: false
              
       synonyms:
#          all:
#            - "DIAGONALE_POUCES" 
          rakuten.com:      
            - "TYPE DE PRODUIT"
         
       parser:
         normalize: true
         trim: true
         lowerCase: false
         upperCase: true    
         removeParenthesis: false
         deleteTokens:   
           - "TV"
           
           
           
           

##############################################################################
# Product classification from categories
##############################################################################
# Will associate to this vertical if one of the following categorie is present for the product  

# If product categories contains one of this token, this will be unmatched
excludingTokensFromCategoriesMatching:
  - MEUBLE
  
matchingCategories:
     all: []
     Darty Pro - Cashback:
     - "TV, VIDEO, HOME CINEMA | TELEVISEUR"
     Electrodepot - Guides et Comparateurs:
     - "ELECTRO DEPOT | TELEVISION | TV DE 147 A 178 CM"
     - "ELECTRO DEPOT | TELEVISION | TV DE 108 A 146 CM"
     - "ELECTRO DEPOT | TELEVISION | TV < 108 CM"
     - "ELECTRO DEPOT | TELEVISION | TV DE PLUS DE 179 CM"
     rueducommerce.fr:
     - "TV"
     backmarket.fr:
     - "ELECTRONICS > VIDEO > TELEVISIONS"
     darty.com:
     - "TV, VIDEO, HOME CINEMA / TELEVISEUR / TV OLED | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV OLED | TELEVISEUR | TV OLED"
     - "TV, VIDEO, HOME CINEMA | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV LED | TELEVISEUR | TV, VIDEO, HOME CINEMA"
     - "TV, VIDEO, HOME CINEMA / TELEVISEUR / TV LED | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV LED | TELEVISEUR | TV LED"
     - "TV, VIDEO, HOME CINEMA | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV OLED | TELEVISEUR | TV, VIDEO, HOME CINEMA"
     cdiscount.com:
     - "TV - VIDEO - SON | TV - VIDEO - SON > TELEVISEUR > TELEVISEUR LCD | TELEVISEUR | TELEVISEUR LCD"
     - "TV - VIDEO - SON | TV - VIDEO - SON > TELEVISEUR > TELEVISEUR LED | TELEVISEUR | TELEVISEUR LED"
     icecat.biz.yml:
     - "TV"
     alternate FR:
     - "9 | TELEVISIONS | TV & MONITEUR > TV"
     grosbill.com:
     - "TV > STRONG"
     UNDERDOG FR:
     - "9 | TELEVISIONS | TELEVISEUR"
     Inmac - Cashbackeurs:
     - "IT | MONITEURS | TV GRAND PUBLIC"
     - "IT | MONITEURS | TV HOTEL"
     manomano.fr:
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV HISENSE | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH TECH | HIGH-TECH > TV - CINEMA > TELEVISEURS - TELEVISIONS - TV > TV PHILIPS | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV TCL | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV LG | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH TECH | HIGH-TECH > TV - CINEMA > TELEVISEURS - TELEVISIONS - TV > TV SONY | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV PHILIPS | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV SONY | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV SCHNEIDER | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV HD | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV PANASONIC | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>MARQUES HIGH-TECH>TCL>TV MINI LED TCL>TV MINI LED 4K TCL | MARQUES HIGH-TECH | TCL"
     - "HIGH TECH | HIGH-TECH > TV - CINEMA > TELEVISEURS - TELEVISIONS - TV > TV LG | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"



