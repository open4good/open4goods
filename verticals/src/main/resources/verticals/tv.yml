####################################################################################################################################################################
#
# This is the configuration for the TV vertical. All the configs items are inherited from the "_default.yml" configuration
# 
# This "TV" vertical aims to be the demonstration one. Please use the below doc as a reference, and copy/paste/adapt to setup other verticals.
# @See open4goods/commons/src/main/java/org/open4goods/config/yml/ui/VerticalConfig.java for commented POJO definition
###################################################################################################################################################################

# Unique identifier for this vertical. 
# MUST contains only charracters
# SHOULD be equal to the configuration file name, without the extension
id: tv

# The associated google taxonomyID. (Ex : FR - https://www.google.com/basepages/producttype/taxonomy-with-ids.fr-FR.txt)
# SHOULD be set, it will then force this taxonomy for all products in this vertical
googleTaxonomyId: 404

# Indicates if the vertical must be UI / sitemap / search rendered
enabled: true

# GenAiConfig for this vertical
genAiConfig:
  # If false, will bypass the generativ ia texts generation  
  enabled: false



#####################################################################################################################################
# ImpacScore configuration.
#####################################################################################################################################



impactScoreConfig:
  criteriasPonderation:
    REPAIRABILITY_INDEX: 0.25
    WEIGHT: 0.15
    POWER_CONSUMPTION_OFF: 0.2
    BRAND_SUSTAINABILITY: 0.2
    CLASSE_ENERGY: 0.2
  texts:
    fr:
      criteriasAnalysis:
        REPAIRABILITY_INDEX: "L'indice de rÃ©parabilitÃ© est crucial car il dÃ©termine la facilitÃ© avec laquelle un tÃ©lÃ©viseur peut Ãªtre rÃ©parÃ©, prolongeant ainsi sa durÃ©e de vie et rÃ©duisant les dÃ©chets Ã©lectroniques. Une pondÃ©ration de 0.25 reflÃ¨te son importance."
        WEIGHT: "Le poids est un indicateur de la quantitÃ© de matÃ©riaux utilisÃ©s et de l'impact du transport. Bien que moins critique, il est pondÃ©rÃ© Ã  0.15 pour reflÃ©ter son impact modÃ©rÃ©."
        POWER_CONSUMPTION_OFF: "La consommation Ã©lectrique en veille est importante pour Ã©valuer l'efficacitÃ© Ã©nergÃ©tique continue du produit. Une pondÃ©ration de 0.2 est attribuÃ©e pour son impact direct sur la consommation d'Ã©nergie."
        BRAND_SUSTAINABILITY: "La durabilitÃ© de la marque est essentielle pour Ã©valuer l'engagement global de l'entreprise envers des pratiques durables. Une pondÃ©ration de 0.2 est justifiÃ©e par son impact sur l'ensemble de la chaÃ®ne de valeur."
        CLASSE_ENERGY: "La classe Ã©nergÃ©tique est un indicateur direct de l'efficacitÃ© Ã©nergÃ©tique du tÃ©lÃ©viseur en fonctionnement. Elle est pondÃ©rÃ©e Ã  0.2 pour son rÃ´le significatif dans la rÃ©duction de la consommation d'Ã©nergie."
      purpose: "Ã‰laborer un score d'impact environnemental pour les tÃ©lÃ©viseurs en prenant en compte divers facteurs Ã©cologiques et sociÃ©taux."
      criticalReview: "La dÃ©marche prend en compte des facteurs clÃ©s mais pourrait Ãªtre amÃ©liorÃ©e par l'ajout de donnÃ©es sur l'impact de la fabrication et de la fin de vie des produits. Certains facteurs comme le poids peuvent Ãªtre moins pertinents que d'autres, mais sont inclus pour une Ã©valuation plus complÃ¨te."
      availlableDatas: "Les donnÃ©es disponibles incluent des mesures de rÃ©parabilitÃ©, de poids, de consommation Ã©lectrique en veille, de durabilitÃ© de la marque et de classe Ã©nergÃ©tique. Ces donnÃ©es sont pertinentes pour Ã©valuer l'impact environnemental des tÃ©lÃ©viseurs."
  yamlPrompt: "\nkey: \"impactscore-generation\"\naiService: \"OPEN_AI\"\nsystemPrompt: \"Tu es un agent expert en Ã©valuation environnementale des produits Ã©lectriques et electroniques.\\nAdopte une dÃ©marche dâ€™expert en analyse du cycle de vie des produits. \\nNous allons travailler sur des TÃ©lÃ©viseurs\\nNe fournir en rÃ©ponse que du JSON, conformÃ©ment Ã  la structure indiquÃ©e, sans commentaire, ni texte supplÃ©mentaire\\n\"\nuserPrompt: \"### CrÃ©ation d'un eco-score pour les TÃ©lÃ©viseurs \\n\\nTu vas crÃ©er un score d'impact environnemental, qui prend en compte les impacts Ã©cologiques et sociÃ©taux pour les TÃ©lÃ©viseurs.\\n\\nCet Impact Score est une composition de diffÃ©rents facteurs coefficientÃ©s. Les facteurs disponibles sont : \\n  REPAIRABILITY_INDEX : L&#39;indice de rÃ©parabilitÃ© de l&#39;objet\\n  WEIGHT : Le poids de l&#39;objet\\n  POWER_CONSUMPTION_OFF : La consommation Ã©lectrique Ã  l&#39;arrÃªt, ou en veille\\n  BRAND_SUSTAINABILITY : L&#39;Ã©valuation ESG de l&#39;entreprise (filiale ou sociÃ©tÃ© mÃ¨re, suivant la finesse des donnÃ©es) qui fabrique le produit, d&#39;aprÃ¨s le score de performance ESG de Sustainalytics\\n  CLASSE_ENERGY : La classe Ã©nergÃ©tique\\n\\n\\n### Principe de fonctionnement de l'eco-score\\n   \\nLes principes de fonctionnement que tu dois prendre en compte\\n   principe de relativisation des facteurs : Chacun des facteurs est reprÃ©sentÃ© de maniÃ¨re relative, sous forme de classement. Le produit de la catÃ©gorie ayant le meilleur facteur pour l'environnement obtient 100/100, le produit ayant le moins bon score obtient 0/100' \\n   principe de virtualisation des scores manquants : si un des facteurs est absent, nous appliquons pour ce facteur la valeur moyenne de ce facteur pour l'ensemble des produits. Cet indicateur DATA_QUALITY est permet donc d'avantager les produits pour lequel toute l'info est disponible, sans pour autant pÃ©naliser outre mesure les produits pour lesquels l'information est absente.\\n   la somme des diffÃ©rents facteurs coefficientÃ©s doit Ãªtre Ã©gale Ã  1\\n   \\nTu vas travailler Ã  partir des facteurs disponibles, pour Ã©laborer un score d'impact environnemental pertinent pour des TÃ©lÃ©viseurs.\\n\\n### Format de rÃ©ponse attendu : JSON \\n    \\n Tout Ã©cart par rapport Ã  la structure JSON fournie est inacceptable.\\n Aucune information supplÃ©mentaire ne doit Ãªtre fournie en dehors du JSON (pas de phrases avant ou aprÃ¨s).\\n Conserve lâ€™ordre des clÃ©s et leur orthographe. Les clÃ©s doivent correspondre exactement Ã  celles indiquÃ©es. Si un champ est nul ou non applicable, omets-le de la rÃ©ponse.\\n Fournis une rÃ©ponse JSON respectant strictement la structure suivante :\\n\\n {\\n    criteriasPonderation : {\\n      \\\"FACTEUR_1\\\" : PONDERATION_1,\\n      \\\"FACTEUR_2\\\" : PONDERATION_2,\\n      ...                        \\n    },\\n    texts: {\\n        fr: {\\n           \\\"purpose\\\": \\\"Description de la dÃ©marche\\\",\\n           \\\"availlableDatas\\\": \\\"Analyse de faÃ§on gÃ©nÃ©rale les donnÃ©es disponibles et leur pertinence pour la rÃ©alisation de cet eco-score\\\",\\n           \\\"criticalReview\\\": \\\"Revue critique et retour constructif sur la dÃ©marche et la mÃ©thodologie, en Ã©valuant les facteurs absents ou inutiles\\\",\\n           \\\"criteriasAnalysis\\\": {\\n                \\\"FACTEUR_1\\\" : \\\"DÃ©tail et analyse de l'importance du FACTEUR_1 dans l'analyse environnemental des TÃ©lÃ©viseurs. Explique et justifie la pondÃ©ration retenue pour le FACTEUR_1\\\",\\n                \\\"FACTEUR_2\\\" : \\\"DÃ©tail et analyse de l'importance du FACTEUR_2 dans l'analyse environnemental des TÃ©lÃ©viseurs. Explique et justifie la pondÃ©ration retenue pour le FACTEUR_2\\\",\\n                ...                                    \\n           }\\n        }    \\n     }\\n }\\n\"\noptions:\n  streamUsage: false\n  model: \"gpt-4o\"\n  temperature: 0.2\n"
  aiJsonResponse: "{\"criteriasPonderation\":{\"REPAIRABILITY_INDEX\":0.25,\"WEIGHT\":0.15,\"POWER_CONSUMPTION_OFF\":0.2,\"BRAND_SUSTAINABILITY\":0.2,\"CLASSE_ENERGY\":0.2},\"texts\":{\"fr\":{\"purpose\":\"Ã‰laborer un score d'impact environnemental pour les tÃ©lÃ©viseurs en prenant en compte divers facteurs Ã©cologiques et sociÃ©taux.\",\"availlableDatas\":\"Les donnÃ©es disponibles incluent des mesures de rÃ©parabilitÃ©, de poids, de consommation Ã©lectrique en veille, de durabilitÃ© de la marque et de classe Ã©nergÃ©tique. Ces donnÃ©es sont pertinentes pour Ã©valuer l'impact environnemental des tÃ©lÃ©viseurs.\",\"criticalReview\":\"La dÃ©marche prend en compte des facteurs clÃ©s mais pourrait Ãªtre amÃ©liorÃ©e par l'ajout de donnÃ©es sur l'impact de la fabrication et de la fin de vie des produits. Certains facteurs comme le poids peuvent Ãªtre moins pertinents que d'autres, mais sont inclus pour une Ã©valuation plus complÃ¨te.\",\"criteriasAnalysis\":{\"REPAIRABILITY_INDEX\":\"L'indice de rÃ©parabilitÃ© est crucial car il dÃ©termine la facilitÃ© avec laquelle un tÃ©lÃ©viseur peut Ãªtre rÃ©parÃ©, prolongeant ainsi sa durÃ©e de vie et rÃ©duisant les dÃ©chets Ã©lectroniques. Une pondÃ©ration de 0.25 reflÃ¨te son importance.\",\"WEIGHT\":\"Le poids est un indicateur de la quantitÃ© de matÃ©riaux utilisÃ©s et de l'impact du transport. Bien que moins critique, il est pondÃ©rÃ© Ã  0.15 pour reflÃ©ter son impact modÃ©rÃ©.\",\"POWER_CONSUMPTION_OFF\":\"La consommation Ã©lectrique en veille est importante pour Ã©valuer l'efficacitÃ© Ã©nergÃ©tique continue du produit. Une pondÃ©ration de 0.2 est attribuÃ©e pour son impact direct sur la consommation d'Ã©nergie.\",\"BRAND_SUSTAINABILITY\":\"La durabilitÃ© de la marque est essentielle pour Ã©valuer l'engagement global de l'entreprise envers des pratiques durables. Une pondÃ©ration de 0.2 est justifiÃ©e par son impact sur l'ensemble de la chaÃ®ne de valeur.\",\"CLASSE_ENERGY\":\"La classe Ã©nergÃ©tique est un indicateur direct de l'efficacitÃ© Ã©nergÃ©tique du tÃ©lÃ©viseur en fonctionnement. Elle est pondÃ©rÃ©e Ã  0.2 pour son rÃ´le significatif dans la rÃ©duction de la consommation d'Ã©nergie.\"}}}}"






#####################################################################################################################################
# I18N CONFIGURATION
# Configure in a i18n way all the texts of a product, including the Url, the title, the description, the open graph metas, ....
# Use a micro templated language, that allows to introduce variables and "if condition", which allows to generate dynamic texts 
######################################################################################################################################
i18n:
  fr:
      # The layout a product url will have. Ex : 81234555-tv-led-samsung-QL659P 2023
      url: 
        # We can add a custom prefix (with our conditional templating language if we want)
        prefix: "|| tv | television | televiseur ||"
        # Then we add some attributes values with hyphens if present (ex : led-samsung-QL659P-2023)
        attrs:
          - TV_TYPE
          - BRAND
          - MODEL
          - YEAR
      ##################################
      # Product page meta and h1 title 
      ##################################
      # The product h1 title. Constructed on the same basis than "url", but without the concatened hyphens
      h1Title:  
        prefix: "|| TV | TÃ©lÃ©vision | TÃ©lÃ©viseur ||"
        attrs:
          - TV_TYPE
          - BRAND
          - MODEL
          - YEAR
        


      ##################################
      # Vertical page elements 
      ##################################
      
      # url for vertical (appened to baseUrl). No templating here 
      verticalHomeUrl: "televiseurs"
      # Text displaid as title for the vertical
      # TODO : Make verticalHomeTitle/ verticalHomeDescription templatable
      verticalHomeTitle: "TÃ©lÃ©viseurs"
      # Text displaid as title for the vertical
      verticalHomeDescription: "Bienvenue dans notre rubrique tÃ©lÃ©viseurs. Devenus des objets quasi-nÃ©cessaires, nos TV's ne sont malheureusement pas neutres pour l'environnement ðŸŒ ! Heureusement, Nudger est lÃ  pour vous informer et vous aider Ã  choisir la TV la plus Ã©cologique et la plus adaptÃ©e Ã  votre besoin."  
      # The image used as a logo


     # A mapping beetween custom page names behind this vertical and wiki pages
     # Copy and paste the wiki wiew url, without the "bin/view" prefix
      wikiPages:
        - wikiUrl: /verticals/tv/technologies-tv/WebHome
          verticalUrl: "oled-qled-lcd-que-choisir"
          title: "OLED, QLED,LCD, ... Quelle technologie choisir ?"
          faIcon: "fa-star"

 
##############################################################################
# Eco score configuration 
# Specify here the specific ecoscore for this vertical. Format : 
# >> EXISTING_SCORE: WEIGHT
# Weight sum MUST BE equals to 1
##############################################################################

ecoscoreConfig:
   BRAND_SUSTAINABILITY: 0.2
   REPAIRABILITY_INDEX: 0.2
   CLASSE_ENERGY : 0.3
   DATA-QUALITY: 0.1
   WEIGHT: 0.2

##############################################################################
# Custom search filters : the following filters
# will also be availlable in search for this vertical (must be an attribute or a score)
##############################################################################



ecoFilters:
    - "REPAIRABILITY_INDEX" 
    - "CLASSE_ENERGY"   
    - "ENERGY_CONSUMPTION_1000_HOURS"

technicalFilters:
    - "DIAGONALE_POUCES"
    - "DISPLAY_TECHNOLOGY"
    - "HDMI_PORTS_QUANTITY"
  
#  - "PARTS_AVAILLABILITY"
#  - "DATA-QUALITY"  
#  - "BRAND-SUSTAINABILITY"

# If thos attributes are not present, the product will be defined as excluded 
requiredAttributes:
  - DIAGONALE_POUCES

####################################################################################
# ATTRIBUTES CONFIGURATION
####################################################################################
attributesConfig:
   
  ###################################################################################################################
  # ATTRIBUTES DEFINITIONS
  # Those attributes will be availlable for all products if one is found.
  #Â The line after configs: will be updated with the attribtes suggestion API, with commented attributes 
  ##################################################################################################################      
  configs:

 

  ###################################################################################################################
  # ATTRIBUTES DEFINITIONS
  # Those attributes will be availlable for all products if one is found.
  ##################################################################################################################      
  
     ##################################
     # DIAGONALE
     ##################################
     - key: "DIAGONALE_POUCES"
       icecatFeaturesIds:
         - 944       
       faIcon: "fa-arrow-up-right-from-square"
       name:
         default: "Screen size"
         fr: "Diagonale (en pouces)"
       filteringType: "NUMERIC"
   
       asScore: false
       synonyms:
         all:
           - "DIAGONALE_POUCES" 
         rakuten.com:      
           - "DIAGONALE"
   
       parser:
         normalize: true
         trim: false
         lowerCase: false
         upperCase: true
         removeParenthesis: false
   #      deleteTokens:

   
     ##################################
     # TYPE TV
     ##################################
     - key: "DISPLAY_TECHNOLOGY"
       icecatFeaturesIds: 
         - 9713          
       faIcon: "fa-tv"
       name:
         default: "Display technology"
         fr: "Technologie d'affichage"
       filteringType: "TEXT"
   
       asScore: false
              
       synonyms:
#          all:
#            - "DIAGONALE_POUCES" 
          rakuten.com:      
            - "TYPE DE PRODUIT"
         
       parser:
         normalize: true
         trim: true
         lowerCase: false
         upperCase: true    
         removeParenthesis: false
         deleteTokens:   
           - "TV"
           
           
           
           

##############################################################################
# Product classification from categories
##############################################################################
# Will associate to this vertical if one of the following categorie is present for the product  

# If product categories contains one of this token, this will be unmatched
excludingTokensFromCategoriesMatching:
  - MEUBLE
  
matchingCategories:
     all: []
     Darty Pro - Cashback:
     - "TV, VIDEO, HOME CINEMA | TELEVISEUR"
     Electrodepot - Guides et Comparateurs:
     - "ELECTRO DEPOT | TELEVISION | TV DE 147 A 178 CM"
     - "ELECTRO DEPOT | TELEVISION | TV DE 108 A 146 CM"
     - "ELECTRO DEPOT | TELEVISION | TV < 108 CM"
     - "ELECTRO DEPOT | TELEVISION | TV DE PLUS DE 179 CM"
     rueducommerce.fr:
     - "TV"
     backmarket.fr:
     - "ELECTRONICS > VIDEO > TELEVISIONS"
     darty.com:
     - "TV, VIDEO, HOME CINEMA / TELEVISEUR / TV OLED | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV OLED | TELEVISEUR | TV OLED"
     - "TV, VIDEO, HOME CINEMA | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV LED | TELEVISEUR | TV, VIDEO, HOME CINEMA"
     - "TV, VIDEO, HOME CINEMA / TELEVISEUR / TV LED | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV LED | TELEVISEUR | TV LED"
     - "TV, VIDEO, HOME CINEMA | TV, VIDEO, HOME CINEMA>TELEVISEUR>TV OLED | TELEVISEUR | TV, VIDEO, HOME CINEMA"
     cdiscount.com:
     - "TV - VIDEO - SON | TV - VIDEO - SON > TELEVISEUR > TELEVISEUR LCD | TELEVISEUR | TELEVISEUR LCD"
     - "TV - VIDEO - SON | TV - VIDEO - SON > TELEVISEUR > TELEVISEUR LED | TELEVISEUR | TELEVISEUR LED"
     icecat.biz.yml:
     - "TV"
     alternate FR:
     - "9 | TELEVISIONS | TV & MONITEUR > TV"
     grosbill.com:
     - "TV > STRONG"
     UNDERDOG FR:
     - "9 | TELEVISIONS | TELEVISEUR"
     Inmac - Cashbackeurs:
     - "IT | MONITEURS | TV GRAND PUBLIC"
     - "IT | MONITEURS | TV HOTEL"
     manomano.fr:
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV HISENSE | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH TECH | HIGH-TECH > TV - CINEMA > TELEVISEURS - TELEVISIONS - TV > TV PHILIPS | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV TCL | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV LG | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH TECH | HIGH-TECH > TV - CINEMA > TELEVISEURS - TELEVISIONS - TV > TV SONY | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV PHILIPS | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV SONY | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV SCHNEIDER | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV HD | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>TV - CINEMA>TELEVISEURS - TELEVISIONS - TV>TV PANASONIC | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"
     - "HIGH-TECH | HIGH-TECH>MARQUES HIGH-TECH>TCL>TV MINI LED TCL>TV MINI LED 4K TCL | MARQUES HIGH-TECH | TCL"
     - "HIGH TECH | HIGH-TECH > TV - CINEMA > TELEVISEURS - TELEVISIONS - TV > TV LG | TV - CINEMA | TELEVISEURS - TELEVISIONS - TV"



